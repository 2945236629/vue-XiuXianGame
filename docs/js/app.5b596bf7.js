(function(){"use strict";var t={823:function(t,e,a){var r=a(5471),i=a(5353),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-container-wrapper"},[e("el-row",{staticClass:"game-container"},[e("h1",[t._v("仙途奇缘")]),e("div",{staticClass:"story"},[e("p",[t._v(t._s(t.storyText))])]),e("el-row",{staticClass:"attributes"},[e("div",{staticClass:"attribute-box"},[e("el-tag",{staticClass:"attribute"},[t._v("等级: "+t._s(t.player.level))]),e("el-tag",{staticClass:"attribute"},[t._v("修为: "+t._s(t.player.cultivation)+"/"+t._s(t.player.maxCultivation))]),e("el-tag",{staticClass:"attribute"},[t._v("血量: "+t._s(t.player.health)+"/"+t._s(t.player.maxHealth))]),e("el-tag",{staticClass:"attribute"},[t._v("法力: "+t._s(t.player.mana)+"/"+t._s(t.player.maxMana))]),e("el-tag",{staticClass:"attribute"},[t._v("攻击: "+t._s(t.player.attack))]),e("el-tag",{staticClass:"attribute"},[t._v("防御: "+t._s(t.player.defense))]),e("el-tag",{staticClass:"attribute"},[t._v(" 武器: "+t._s(t.player.equipment.weapon||"无")+" | 护甲: "+t._s(t.player.equipment.armor||"无")+" | 饰品: "+t._s(t.player.equipment.accessory||"无")+" | 法宝 "+t._s(t.player.equipment.sutra||"无")+" ")]),e("el-tag",{staticClass:"attribute"},[t._v("背包: "+t._s(t.player.inventory.join(", ")||"空"))])],1)]),e("el-row",{staticClass:"actions"},t._l(t.actions,(function(a,r){return e("el-button",{key:r,on:{click:a.handler}},[t._v(t._s(a.text))])})),1)],1)],1)},n=[],l=(a(4114),{data(){return{player:{mana:50,level:1,attack:10,health:100,defense:10,maxMana:50,maxHealth:100,inventory:[],equipment:{sutra:null,armor:null,weapon:null,accessory:null},cultivation:0,maxCultivation:100},monster:{name:"",health:0,attack:0},actions:[{text:"修炼",handler:this.cultivate},{text:"探索",handler:this.explore}],storyText:""}},mounted(){this.$store.state.player&&(this.player=this.$store.state.player),this.startGame()},methods:{startGame(){this.player.cultivation||(this.storyText="欢迎来到《仙途奇缘》，你的修仙之旅开始了。"),this.actions=[{text:"修炼",handler:this.cultivate},{text:"探索",handler:this.explore}],this.player.health=100,this.$store.commit("setPlayer",this.player)},cultivate(){this.player.cultivation<this.player.maxCultivation?(this.player.cultivation+=10,this.storyText=`你开始冥想，吸收周围的灵气。修为提升了！当前修为：${this.player.cultivation}/${this.player.maxCultivation}`,this.player.cultivation>=this.player.maxCultivation&&(this.player.level++,this.player.attack+=5,this.player.health=100,this.player.mana=this.player.maxMana,this.player.maxCultivation=Math.floor(100*Math.pow(2,this.player.level)),this.storyText=`恭喜你突破了！当前等级：${this.player.level}，修为：${this.player.cultivation}/${this.player.maxCultivation}`,this.$store.commit("setPlayer",this.player))):this.storyText="你已经达到了当前等级的修为上限，需要突破到下一个等级。",this.actions=[{text:"修炼",handler:this.cultivate},{text:"探索",handler:this.explore}]},explore(){Math.random()<.5?this.encounterMonster():this.findTreasure()},encounterMonster(){const t=this.player.level,e=["蛟龙","梦魇","狐妖","雷鸟","妖狐","狻猊","螭吻","车尾","蛤蟆精","白泽"];this.monster={name:`${e[Math.floor(Math.random()*e.length)]}`,health:100*t,attack:30*t,defense:15*t},this.storyText=`你遇到了一只${this.monster.name}！`,this.actions=[{text:"攻击",handler:()=>this.fightMonster(this.monster)},{text:"逃跑",handler:this.runAway}]},fightMonster(t){const e=t.attack,a=this.player.defense,r=Math.max(0,Math.floor(e-a));this.player.health-=r;const i=this.player.attack,s=t.defense,n=Math.max(0,Math.floor(i-s));if(t.health-=n,this.player.mana--,this.$store.commit("setPlayer",this.player),!this.player.mana)return this.storyText="你的法力已经用光了, 请回家升级补充法力",void(this.actions=[{text:"回到家里",handler:this.startGame}]);t.health<=0?(this.storyText=`你击败了${t.name}！获得了一些修为和一颗灵丹。`,this.actions=[{text:"探索",handler:this.explore},{text:"修炼",handler:this.cultivate},{text:"食用灵丹",handler:()=>this.equipItem("灵丹")}]):this.player.health<=0?(this.storyText="你被击败了。",this.actions=[{text:"回到家里",handler:this.startGame}]):(this.storyText=`你攻击了${t.name}，造成了${n}点伤害。${t.name}攻击了你，造成了${r}点伤害。`,this.actions=[{text:"攻击",handler:()=>this.fightMonster(t)},{text:"逃跑",handler:()=>this.runAway(t)}])},runAway(){Math.random()<.5?(this.storyText="逃跑失败，请继续战斗。",this.actions=[{text:"攻击",handler:()=>this.fightMonster(this.monster)}]):(this.storyText="你选择了逃跑，安全返回了修炼地点。",this.actions=[{text:"修炼",handler:this.cultivate},{text:"探索",handler:this.explore}])},findTreasure(){const t=["法宝","灵丹","武器","护甲","饰品"],e=t[Math.floor(Math.random()*t.length)];this.storyText=`你发现了一个宝箱，打开后获得了${e}。`,this.player.inventory.push(e),this.actions=[{text:"探索",handler:this.explore},{text:"修炼",handler:this.cultivate},{text:`${"灵丹"==e?"食用":"装备"}${e}`,handler:()=>this.equipItem(e)}],this.$store.commit("setPlayer",this.player)},equipItem(t){if(["武器","护甲","饰品","法宝"].includes(t))"武器"===t?(this.player.attack+=10,this.player.equipment.weapon=t):"护甲"===t?(this.player.defense+=10,this.player.equipment.armor=t):"饰品"===t?(this.player.attack+=5,this.player.defense+=5,this.player.equipment.accessory=t):"法宝"===t&&(this.player.attack+=10,this.player.defense+=10,this.player.equipment.sutra=t),this.player.inventory=this.player.inventory.filter((e=>e!==t)),this.storyText=`你装备了${t}。`;else{const e=Math.random();e<.25?(this.player.attack+=5,this.storyText="你食用灵丹后增加了5攻击"):e<.5?(this.player.defense+=5,this.storyText="你食用灵丹后增加了5防御"):(this.player.maxMana+=10,this.storyText="你食用灵丹后法力总量增加了10"),this.player.inventory=this.player.inventory.filter((e=>e!==t))}this.$store.commit("setPlayer",this.player),this.actions=[{text:"修炼",handler:this.cultivate},{text:"探索",handler:this.explore}]}}}),o=l,h=a(1656),u=(0,h.A)(o,s,n,!1,null,"a5d612aa",null),c=u.exports,y=a(406);r.Ay.use(i.Ay);var p=new i.Ay.Store({state:{player:{mana:50,level:1,attack:10,health:100,defense:10,maxMana:50,maxHealth:100,inventory:[],equipment:{sutra:null,armor:null,weapon:null,accessory:null},cultivation:0,maxCultivation:100}},mutations:{setPlayer(t,e){t.player=e}},plugins:[(0,y.A)({storage:window.localStorage,reducer(t){return{player:t.player}}})]}),m=a(1473),d=a.n(m);r.Ay.use(i.Ay).use(d()),r.Ay.config.productionTip=!1,new r.Ay({store:p,render:t=>t(c)}).$mount("#app")}},e={};function a(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,r,i,s){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],i=t[u][1],s=t[u][2];for(var l=!0,o=0;o<r.length;o++)(!1&s||n>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[o])}))?r.splice(o--,1):(l=!1,s<n&&(n=s));if(l){t.splice(u--,1);var h=i();void 0!==h&&(e=h)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,i,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,s,n=r[0],l=r[1],o=r[2],h=0;if(n.some((function(e){return 0!==t[e]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var u=o(a)}for(e&&e(r);h<n.length;h++)s=n[h],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},r=self["webpackChunkxiuxian_game"]=self["webpackChunkxiuxian_game"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(823)}));r=a.O(r)})();