(function(){var t={9142:function(t,e,i){"use strict";var a=i(8649),s=i(651),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-container-wrapper",attrs:{draggable:"true"}},[e("div",{staticClass:"github-corner"},[e("a",{attrs:{href:"https://github.com/setube/vue-XiuXianGame",target:"_blank","aria-label":"View source on GitHub"}},[e("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0","z-index":"2"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e("path",{staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e("path",{attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])]),e("div",{staticClass:"game-container"},[e("router-view"),e("div",{staticClass:"bbh"},[t._v(" 当前游戏版本"+t._s(t.version)+" ")])],1),e("div",{staticClass:"wm_bg_1"}),e("div",{staticClass:"wm_bg_2"})])},r=[],o={data(){return{version:.74}},mounted(){},methods:{}},l=o,c=i(6736),p=(0,c.A)(l,n,r,!1,null,"0949ef5c",null),h=p.exports,u=i(2666),y=i(1093),d=i.n(y),m=i(5921),f=i.n(m);const v={iv(){return["Y","o","u","r","E","n","c","r","y","p","t","i","o","n","K","e"]},encryption(t){const e=this.iv().join("");return f().AES.encrypt(JSON.stringify(t),e,{iv:e,mode:f().mode.CBC,padding:f().pad.Pkcs7}).toString()},decryption(t){const e=this.iv().join(""),i=f().AES.decrypt(t,e,{iv:e,mode:f().mode.CBC,padding:f().pad.Pkcs7}).toString(f().enc.Utf8);return JSON.parse(i)}};var g=v,b=i(4536);a["default"].use(s.Ay);var _=new s.Ay.Store({state:{boss:{name:"",text:"",time:0,desc:"",level:0,dodge:0,attack:0,health:0,conquer:!1,defense:0,critical:0,maxhealth:0},player:{pet:{},pets:[],level:0,dodge:0,points:0,attack:10,health:100,critical:0,defense:10,taskNum:0,version:.7,currency:0,maxHealth:100,inventory:[],isNewbie:!1,equipment:{sutra:{},armor:{},weapon:{},accessory:{}},achievement:{pet:[],monster:[],equipment:[]},cultivation:0,cultivateDan:0,reincarnation:0,maxCultivation:100,strengtheningStone:0,sellingEquipmentData:[]}},mutations:{setBoss(t,e){t.boss=e},setPlayer(t,e){t.player=e}},plugins:[(0,b.A)({storage:window.localStorage,reducer(t){return{boss:g.encryption(t.boss),player:g.encryption(t.player)}},getState(t,e){const i=e.getItem(t);if(i){const t=JSON.parse(i);return{boss:g.decryption(t.boss),player:g.decryption(t.player)}}return{}}})]}),C=(i(381),function(){var t=this,e=t._self._c;return e("div",{staticClass:"cultivate"},[e("div",{staticClass:"boss"},[e("div",{staticClass:"boss-box"},[e("span",{staticClass:"el-tag el-tag--warning",on:{click:t.openBossInfo}},[t._v(t._s(t.boss.name))]),e("el-alert",{staticClass:"desc",attrs:{title:t.boss.desc,closable:!1,type:"error"}})],1)]),e("div",{staticClass:"storyText"},[e("div",{ref:"storyText",staticClass:"storyText-box"},[t.isFighting?e("p",{staticClass:"fighting"},[t._v(" "+t._s(t.guashaRounds)+"回合 / 50回合 ")]):t._e(),t._l(t.texts,(function(i,a){return e("p",{key:a,domProps:{innerHTML:t._s(i)},on:{click:function(e){return t.openEquipmentInfo(t.equipmentInfo)}}})}))],2)]),e("div",{staticClass:"actions"},[e("el-button",{attrs:{type:"danger",disabled:t.isEnd},on:{click:t.startFightBoss}},[t._v(" 发起战斗 ")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 回家疗伤 ")])],1)])}),$=[];const x={drawPrize(t){const e=this.boss_Names(),i=this.getRandomInt(5e4,1e5)*t,a=this.getRandomInt(5e3,1e4)*t,s=this.getRandomInt(1e3,1e4)*t,n=this.getRandomFloatInRange(.1,1),r=this.getRandomFloatInRange(.1,1);return{name:e.name,text:this.boss_Text(),time:Math.floor(Date.now()/1e3),desc:e.description,level:40,dodge:n,attack:a,health:i,defense:s,conquer:!1,critical:r,maxhealth:i}},boss_Equip(t){const e=["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"],i=["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"],a=["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"],s=["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"],n={weapon:{names:e,probability:25},armor:{names:i,probability:25},accessory:{names:a,probability:25},sutra:{names:s,probability:25}},r=Object.values(n).reduce(((t,{probability:e})=>t+e),0),o=Math.floor(Math.random()*r);let l=0;for(const[c,{names:p,probability:h}]of Object.entries(n))if(l+=h,o<l){const e=this.getRandomInt(500,1e3)*t*10,i=this.getRandomInt(5e3,1e4)*t*10,a=10*this.getRandomFloatInRange(.05,.1);return{id:Date.now(),name:p[Math.floor(Math.random()*p.length)],type:c,level:t,dodge:["accessory","sutra"].includes(c)?a:0,attack:["weapon","accessory","sutra"].includes(c)?e:0,health:["armor","accessory","sutra"].includes(c)?i:0,quality:"danger",initial:{dodge:["accessory","sutra"].includes(c)?a:0,attack:["weapon","accessory","sutra"].includes(c)?e:0,health:["armor","accessory","sutra"].includes(c)?i:0,defense:["accessory","sutra"].includes(c)?e:0,critical:["weapon","accessory","sutra"].includes(c)?a:0},defense:["accessory","sutra"].includes(c)?e:0,critical:["weapon","accessory","sutra"].includes(c)?a:0}}},boss_Text(){const t=["你的时代已经结束，现在，是我主宰一切的时候了。","你的努力，终究只是为我铺就了通往胜利的道路。","战胜你，对我来说不过是举手之劳，你的实力，不过如此。","你的生命，在我的手中如蝼蚁般脆弱，你的死亡，只是我计划中的一环。","你的失败，证明了我的智慧与力量无可匹敌，而你，只是我的垫脚石。","你的存在，曾让我感到一丝威胁，但现在，你已成为我脚下的尘埃。","你的勇气可嘉，但可惜，勇气并不能改变结果，你最终还是败在了我的脚下。","你的死，将是我传奇中的一笔，而你，将永远被我踩在脚下。","你的挣扎与反抗，不过是徒劳无功，你的命运，早已注定。","你的终结，是我迈向更高峰的开始，你的存在，对我来说已无任何意义。","你的死亡，将证明我的强大与不可战胜，而你，将永远成为我的手下败将。","你的遗言，对我来说毫无意义，因为你已经无法再影响我的计划。","你的逝去，只是宇宙间的一次微小波动，而我，将继续书写我的传奇。","你的失败，是我成功路上的一个注脚，而你，将永远无法摆脱这个污点。","你的生命之火已经熄灭，而我，将继续燃烧，照亮整个世界。","你的死亡，让我更加坚信自己的道路是正确的，而你，只是我路上的一个过客。","你的存在，曾让我有过一丝犹豫，但现在，我已经没有任何顾虑，因为我已经彻底战胜了你。","你的终结，是我力量的证明，而你，将永远无法逃脱这个宿命。","你的死亡，将是我成就伟大事业的基石，而你，将永远被世人遗忘。","你的挑战，虽然激烈，但终究无法撼动我的地位，你的死亡，只是我辉煌人生中的一个注脚。"];return t[Math.floor(Math.random()*t.length)]},boss_Names(){const t=[{name:"烛龙神尊",description:"乃钟山之神，睁眼为昼，闭眼为夜，呼吸间风云变幻，掌控着时间的流转。"},{name:"幽冥鬼帝",description:"传说中幽冥界的至高统治者，掌管生死轮回，其力量深不可测，能召唤万千亡灵为其所用。"},{name:"苍穹魔尊",description:"诞生于九天之上，因贪恋凡间情感而堕入魔道，拥有操控天地元素、撕裂虚空的能力。"},{name:"龙皇傲天",description:"龙族中的至尊，身披璀璨龙鳞，掌握着古老龙族的所有秘辛与力量，其威严令万兽臣服。"},{name:"凤舞九天",description:"凤凰一族的女王，拥有不死之身与涅槃重生的能力，其羽翼轻挥，即可掀起滔天火焰，焚尽一切。"},{name:"雷神天尊",description:"天界雷神转世，手持雷神锤，能召唤九天神雷，一击之下，山河破碎，万物寂灭。"},{name:"幽冥血皇",description:"幽冥界中的古老存在，以鲜血为食，其力量源自于无尽的杀戮与怨念，令人闻风丧胆。"},{name:"玄冰龙神",description:"来自极北之地的神秘生物，融合了龙与冰元素的力量，其身躯坚不可摧，能冻结世间万物。"},{name:"金翅大鹏王",description:"大鹏一族中的王者，拥有遮天蔽日的双翼，速度之快，可瞬息万里，其利爪足以撕裂空间。"},{name:"混沌魔君",description:"诞生于混沌之初的古老魔物，其力量源自于宇宙的本源，能够扭曲现实，吞噬万物，是天地间最可怕的存在之一。"}];return t[Math.floor(Math.random()*t.length)]},getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},getRandomFloatInRange(t,e){return Math.random()*(e-t)+t}};var I=x,k={data(){return{boss:{},isEnd:!1,texts:[],player:{},timerIds:[],isFighting:!1,startFight:!1,isequipment:!1,guashaRounds:50,equipmentInfo:{}}},mounted(){this.boss=this.$store.state.boss,this.player=this.$store.state.player,this.assaultBoss()},beforeDestroy(){this.stopFightBoss()},methods:{startFightBoss(){if(this.isEnd)return;this.isEnd=!0;const t=setInterval((()=>{this.fightBoss();const t=this.$refs.storyText;t.scrollTo(0,t.scrollHeight)}),300);this.timerIds.push(t)},stopFightBoss(){this.timerIds.forEach((t=>{clearInterval(t)})),this.timerIds=[]},openBossInfo(){const t=this.boss;this.$confirm("",t.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>境界: ${this.$levelNames[t.level]}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(t.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(t.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(t.defense)}</p>\n                            <p>闪避率: ${t.dodge>0?100*t.dodge>100?100:(100*t.dodge).toFixed(2):0}%</p>\n                            <p>暴击率: ${t.critical>0?100*t.critical>100?100:(100*t.critical).toFixed(2):0}%</p>\n                            <p>鸿蒙石掉落: 10颗</p>\n                            <p>神装掉落率: 100%</p>\n                        </div>\n                    </div>`,dangerouslyUseHTMLString:!0}).catch((()=>{}))},fightBoss(){if(this.player.level<this.$maxLv)return this.isEnd=!0,this.stopFightBoss(),void(this.texts=[...this.texts,`你的境界尚未达到${this.$levelNames[this.$maxLv]}, ${this.boss.name}对于你的挑战不屑一顾`]);this.isFighting=!0;const t=this.boss.attack,e=this.player.defense;let i=Math.max(0,Math.floor(t-e));i=i<=1?1:i;const a=this.player.attack,s=this.boss.defense;let n=Math.max(0,Math.floor(a-s));n=n<=1?1:n;let r=!1,o=!1;const l=Math.random()>this.boss.dodge;if(Math.random()<this.boss.critical&&(i*=2,r=!0),Math.random()<this.player.critical&&(n*=1.5,o=!0),this.player.health-=i,l&&(this.boss.health-=n),this.player.health=Math.max(0,this.player.health),this.boss.health=Math.max(0,this.boss.health),this.guashaRounds>1)if(this.guashaRounds--,this.boss.health<=0){const t=I.boss_Equip(this.$maxLv);this.isequipment=!0,this.equipmentInfo=t,this.texts=[...this.texts,`你击败${this.boss.name}后，获得了<span class="el-tag el-tag--${t.quality}">${this.$levels[t.quality]}${t.name}(${this.$genre[t.type]})</span>`],this.player.rootBone+=1,this.texts=[...this.texts,"你获得了1颗根骨丹"],this.player.currency+=10,this.texts=[...this.texts,"你获得了10块鸿蒙石"],t?.name&&this.player.inventory.push(t),this.isEnd=!0,this.boss.time=Math.floor(Date.now()/1e3),this.boss.health=0,this.boss.conquer=!0,this.stopFightBoss(),this.$store.commit("setBoss",this.boss)}else this.player.health<=0?(this.isEnd=!0,this.boss.health=this.boss.maxhealth,this.texts=[...this.texts,"你因为太弱被击败了。"],this.texts=[...this.texts,`${this.boss.text}`],this.stopFightBoss(),this.guashaRounds=50):(this.texts=[...this.texts,l?`你攻击了${this.boss.name}，${o?"触发暴击":""}造成了${n}点伤害，剩余${this.boss.health}气血。`:`你攻击了${this.boss.name}，对方闪避了你的攻击，你未造成伤害，剩余${this.boss.health}气血。 `],this.texts=[...this.texts,`${this.boss.name}攻击了你，${r?"触发暴击":""}造成了${i}点伤害`]);else this.guashaRounds=50,this.stopFightBoss(),this.boss.health=this.boss.maxhealth,this.texts=[...this.texts,`回合结束, 你未战胜${this.boss.name}你输了。`],this.texts=[...this.texts,`${this.boss.text}`];this.$store.commit("setPlayer",this.player)},openEquipmentInfo(t){this.isequipment&&this.$confirm("",t.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>类型: ${this.$genre[t.type]??"未知"}</p>\n                            <p>境界: ${this.$levelNames[t.level]}</p>\n                            <p>品质: ${this.$levels[t.quality]??"未知"}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(t.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(t.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(t.defense)}</p>\n                            <p>闪避率: ${(100*t.dodge).toFixed(2)??0}%</p>\n                            <p>暴击率: ${(100*t.critical).toFixed(2)??0}%</p>\n                        </div>\n                    </div>`,showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,dangerouslyUseHTMLString:!0}).then((()=>{this.$router.push("/")})).catch((()=>{this.$router.push("/")}))},assaultBoss(){const t=this.getMinuteDifference(this.boss.time),e=this.$maxLv*this.player.reincarnation+this.$maxLv;if(this.boss.health>0)t>=5&&(this.boss=I.drawPrize(e),this.$store.commit("setBoss",this.boss));else{if(!(t>=5||0==this.boss.time))return this.isEnd=!0,void(this.texts=[...this.texts,"BOSS还未刷新，请等待5分钟后再次挑战"]);this.boss=I.drawPrize(e),this.$store.commit("setBoss",this.boss)}this.guashaRounds=50},getMinuteDifference(t){const e=Math.floor(Date.now()/1e3);t=0==t?e:t;const i=Math.abs(e-t),a=Math.floor(i/60);return a}}},q=k,w=(0,c.A)(q,C,$,!1,null,"db44b8c8",null),M=w.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index"},[e("div",{staticClass:"index-box"},[e("div",{staticClass:"story"},[e("p",[t._v(t._s(t.storyText))])]),e("div",{staticClass:"attributes"},[e("div",{staticClass:"attribute-box"},[e("div",{staticClass:"tag attribute",on:{click:function(e){t.isLevel=!0}}},[t._v(" 境界: "+t._s(t.$levelNames[t.player.level])+" ("+t._s(t.player.reincarnation||0)+"转) ")]),t.player.level>=this.$maxLv?e("div",{staticClass:"tag attribute"},[t._v(" 修为: 登峰造极 ")]):e("div",{staticClass:"tag attribute",on:{click:function(e){t.$notify({title:"修为提示",message:`您距离${t.$levelNames[t.player.level+1]}境界还需${t.$formatNumberToChineseUnit(t.player.maxCultivation-t.player.cultivation)}点修为`})}}},[t._v(" 修为: "+t._s(t.calculatePercentageDifference(t.player.maxCultivation,t.player.cultivation).toFixed(2))+"% ")]),e("div",{staticClass:"tag attribute"},[t._v(" 气血: "+t._s(t.$formatNumberToChineseUnit(t.player.health))+" / "+t._s(t.$formatNumberToChineseUnit(t.player.maxHealth))+" "),t.player.points>0?e("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(e){return t.attributePoints("health")}}}):t._e()]),e("div",{staticClass:"tag attribute"},[t._v(" 攻击: "+t._s(t.$formatNumberToChineseUnit(t.player.attack))+" "),t.player.points>0?e("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(e){return t.attributePoints("attack")}}}):t._e()]),e("div",{staticClass:"tag attribute"},[t._v(" 防御: "+t._s(t.$formatNumberToChineseUnit(t.player.defense))+" "),t.player.points>0?e("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(e){return t.attributePoints("defense")}}}):t._e()]),e("div",{staticClass:"tag attribute"},[t._v(" 闪避率: "+t._s(t.player.dodge>0?100*t.player.dodge>100?100:(100*t.player.dodge).toFixed(2):0)+"% ")]),e("div",{staticClass:"tag attribute"},[t._v(" 暴击率: "+t._s(t.player.critical>0?100*t.player.critical>100?100:(100*t.player.critical).toFixed(2):0)+"% ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"可以通过击败世界Boss后获得"})}}},[t._v(" 鸿蒙石: "+t._s(t.$formatNumberToChineseUnit(t.player.currency))+" ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"可以通过出售装备可获得"})}}},[t._v(" 炼器石: "+t._s(t.$formatNumberToChineseUnit(t.player.strengtheningStone))+" ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"可以通过探索秘境可获得"})}}},[t._v(" 培养丹: "+t._s(t.$formatNumberToChineseUnit(t.player.cultivateDan))+" ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"可以通过击败世界BOSS可获得"})}}},[t._v(" 根骨丹: "+t._s(t.$formatNumberToChineseUnit(t.player.rootBone))+" ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"每提成一次境界可以获得3点境界点"})}}},[t._v(" 境界点: "+t._s(t.$formatNumberToChineseUnit(t.player.points))+" ")])])]),e("div",{staticClass:"equip-box"},[e("div",{staticClass:"tag equip-item"},[e("span",{staticClass:"equip"},[e("span",[t._v("神兵: ")]),t.player.equipment.weapon?.name?e("el-tag",{attrs:{type:t.player.equipment.weapon?.quality,closable:!!t.player.equipment.weapon?.name},on:{close:function(e){return t.equipmentClose("weapon")},click:function(e){return t.equipmentInfo("weapon")}}},[t._v(" "+t._s(t.player.equipment.weapon?.name)+t._s(t.player.equipment.weapon?.strengthen?"+"+t.player.equipment.weapon?.strengthen:"")+" ")]):e("span",[t._v("无")])],1),e("span",{staticClass:"equip"},[e("span",[t._v("护甲: ")]),t.player.equipment.armor?.name?e("el-tag",{attrs:{type:t.player.equipment.armor?.quality,closable:!!t.player.equipment.armor?.name},on:{close:function(e){return t.equipmentClose("armor")},click:function(e){return t.equipmentInfo("armor")}}},[t._v(" "+t._s(t.player.equipment.armor?.name)+t._s(t.player.equipment.armor?.strengthen?"+"+t.player.equipment.armor?.strengthen:"")+" ")]):e("span",[t._v("无")])],1)]),e("div",{staticClass:"tag equip-item"},[e("span",{staticClass:"equip"},[e("span",[t._v("灵宝: ")]),t.player.equipment.accessory?.name?e("el-tag",{attrs:{type:t.player.equipment.accessory?.quality,closable:!!t.player.equipment.accessory?.name},on:{close:function(e){return t.equipmentClose("accessory")},click:function(e){return t.equipmentInfo("accessory")}}},[t._v(" "+t._s(t.player.equipment.accessory?.name)+t._s(t.player.equipment.accessory?.strengthen?"+"+t.player.equipment.accessory?.strengthen:"")+" ")]):e("span",[t._v("无")])],1),e("span",{staticClass:"equip"},[e("span",[t._v("法器: ")]),t.player.equipment.sutra?.name?e("el-tag",{attrs:{type:t.player.equipment.sutra?.quality,closable:!!t.player.equipment.sutra?.name},on:{close:function(e){return t.equipmentClose("sutra")},click:function(e){return t.equipmentInfo("sutra")}}},[t._v(" "+t._s(t.player.equipment.sutra?.name)+t._s(t.player.equipment.sutra?.strengthen?"+"+t.player.equipment.sutra?.strengthen:"")+" ")]):e("span",[t._v("无")])],1)]),e("div",{staticClass:"tag equip-item"},[e("span",{staticClass:"equip"},[e("span",[t._v("灵宠: ")]),t.player.pet?.name?e("el-tag",{staticClass:"pet",attrs:{type:t.computePetsLevel(t.player.pet?.level),closable:""},on:{close:t.petRetract,click:function(e){t.petItemShow=!0}}},[t._v(" "+t._s(t.player.pet?.name)+"("+t._s(t.$levelNames[t.player.pet.level])+") ")]):e("span",[t._v("无")])],1)]),e("div",{staticClass:"tag inventory-box"},[e("el-tabs",{attrs:{stretch:!0},on:{"tab-click":t.tabClick},model:{value:t.inventoryActive,callback:function(e){t.inventoryActive=e},expression:"inventoryActive"}},[t._l(t.backPackItem,(function(i,a){return e("el-tab-pane",{key:a,attrs:{label:i.name,name:i.type}},[e("div",{staticClass:"inventory-content"},[t.player.inventory.length?e("div",[t._l(t.player.inventory,(function(a){return[a.type==i.type?e("el-tag",{key:a.id,staticClass:"inventory-item",attrs:{type:a?.quality,closable:!a.lock},on:{close:function(e){return t.inventoryClose(a)},click:function(e){return t.inventory(a.id,a.type)}}},[e("i",{class:a.lock?"el-icon-lock":"el-icon-unlock"}),t._v(" "+t._s(a?.name)+t._s(a?.strengthen?"+"+a?.strengthen:"")+" ")]):t._e()]}))],2):e("div",[!t.player.isNewbie&&t.player.level<10?e("el-tag",{staticClass:"dialog-footer-button",attrs:{type:"success"},on:{click:function(e){return t.newbiePack(4)}}},[t._v(" 领取新手礼包 ")]):t._e()],1)])])})),e("el-tab-pane",{attrs:{label:"灵宠",name:"pet"}},[e("div",{staticClass:"inventory-content"},[t._l(t.player.pets,(function(i,a){return[e("el-tag",{key:a,staticClass:"inventory-item",attrs:{type:t.computePetsLevel(i.level),closable:""},on:{close:function(e){return t.petClose(i)},click:function(e){return t.petItemInfo(i)}}},[t._v(" "+t._s(i.name)+"("+t._s(t.$levelNames[i.level])+") ")])]}))],2)]),e("el-tab-pane",{attrs:{label:"鸿蒙商店",name:"shop"}},[e("el-tabs",{attrs:{stretch:!0},model:{value:t.shopActive,callback:function(e){t.shopActive=e},expression:"shopActive"}},t._l(t.shopItems,(function(i,a){return e("el-tab-pane",{key:a,attrs:{label:i.name,name:i.type}},[e("div",{staticClass:"inventory-content"},[t._l(i.data,(function(a,s){return[a.type==i.type?e("el-tag",{key:s,staticClass:"inventory-item",attrs:{type:a.quality},on:{click:function(e){return t.shopItemInfo(a)}}},[t._v(" "+t._s(a.name)+" ")]):t._e()]}))],2)])})),1)],1)],2)],1)]),e("div",{staticClass:"actions"},[t._l(t.actions,(function(i,a){return e("el-button",{key:a,attrs:{type:i.type?i.type:""},on:{click:i.handler}},[t._v(" "+t._s(i.text)+" ")])})),e("el-button",{on:{click:function(e){t.show=!0}}},[t._v(" 数据管理 ")])],2)]),e("el-drawer",{staticClass:"levels",attrs:{title:"修仙境界表",visible:t.isLevel,direction:"ltr"},on:{"update:visible":function(e){t.isLevel=e}}},t._l(t.$levelNames,(function(i,a){return e("el-tag",{key:a,staticClass:"inventory-item",attrs:{type:t.player.level==a?"primary":a>t.player.level?"danger":"success"}},[t._v(" "+t._s(i)+" ")])})),1),e("el-drawer",{staticClass:"strengthen",attrs:{title:"灵宠培养",visible:t.petItemShow,direction:"rtl"},on:{"update:visible":function(e){t.petItemShow=e}}},[t.petItemShow?e("div",{staticClass:"strengthen-box"},[e("div",{staticClass:"attributes"},[e("div",{staticClass:"attribute-box"},[e("div",{staticClass:"tag attribute"},[t._v(" 境界: "+t._s(t.$levelNames[t.player.pet.level])+" ("+t._s(t.player.pet.reincarnation||0)+"转) ")]),e("div",{staticClass:"tag attribute"},[t._v(" 根骨: "+t._s(t.player.pet.rootBone)+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 气血: "+t._s(t.$formatNumberToChineseUnit(t.player.pet.health))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 攻击: "+t._s(t.$formatNumberToChineseUnit(t.player.pet.attack))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 防御: "+t._s(t.$formatNumberToChineseUnit(t.player.pet.defense))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 闪避率: "+t._s(t.player.pet.dodge>0?100*t.player.pet.dodge>100?100:(100*t.player.pet.dodge).toFixed(2):0)+"% ")]),e("div",{staticClass:"tag attribute"},[t._v(" 暴击率: "+t._s(t.player.pet.critical>0?100*t.player.pet.critical>100?100:(100*t.player.pet.critical).toFixed(2):0)+"% ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"可以通过探索秘境获得",position:"top-left"})}}},[t._v(" 拥有培养丹: "+t._s(t.$formatNumberToChineseUnit(t.player.cultivateDan))+" ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"可以通过击败世界BOSS获得",position:"top-left"})}}},[t._v(" 拥有根骨丹: "+t._s(t.$formatNumberToChineseUnit(t.player.rootBone))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 培养消耗: "+t._s(t.petConsumption(t.player.pet.level))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 提升根骨消耗: "+t._s(t.petRootBone?t.player.pet.rootBone:0)+" ")])])]),e("div",{staticClass:"click-box"},[e("el-checkbox",{model:{value:t.petReincarnation,callback:function(e){t.petReincarnation=e},expression:"petReincarnation"}},[t._v(" 灵宠转生 ")]),e("el-checkbox",{model:{value:t.petRootBone,callback:function(e){t.petRootBone=e},expression:"petRootBone"}},[t._v(" 提升根骨 ")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.petUpgrade(t.player.pet)}}},[t._v(" 点击培养 ")])],1)]):t._e()]),e("el-drawer",{staticClass:"strengthen",attrs:{title:"装备炼器",visible:t.strengthenShow,direction:"rtl"},on:{"update:visible":function(e){t.strengthenShow=e}}},[t.strengthenShow?e("div",{staticClass:"strengthen-box"},[e("div",{staticClass:"attributes"},[e("div",{staticClass:"attribute-box"},[e("div",{staticClass:"tag attribute"},[t._v(" 境界: "+t._s(t.$levelNames[t.strengthenInfo.level])+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 气血: "+t._s(t.$formatNumberToChineseUnit(t.strengthenInfo.health))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 攻击: "+t._s(t.$formatNumberToChineseUnit(t.strengthenInfo.attack))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 防御: "+t._s(t.$formatNumberToChineseUnit(t.strengthenInfo.defense))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 闪避率: "+t._s(t.strengthenInfo.dodge>0?100*t.strengthenInfo.dodge>100?100:(100*t.strengthenInfo.dodge).toFixed(2):0)+"% ")]),e("div",{staticClass:"tag attribute"},[t._v(" 暴击率: "+t._s(t.strengthenInfo.critical>0?100*t.strengthenInfo.critical>100?100:(100*t.strengthenInfo.critical).toFixed(2):0)+"% ")]),e("div",{staticClass:"tag attribute"},[t._v(" 炼器等级: "+t._s(t.strengthenInfo.strengthen??0)+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 成功率: "+t._s((100*t.calculateEnhanceSuccessRate(t.strengthenInfo)).toFixed(2))+"% ")]),e("div",{staticClass:"tag attribute",on:{click:function(e){return t.$notify({title:"获得方式",message:"出售装备可获取",position:"top-left"})}}},[t._v(" 拥有炼器石: "+t._s(t.$formatNumberToChineseUnit(t.player.strengtheningStone))+" ")]),e("div",{staticClass:"tag attribute"},[t._v(" 炼器消耗: "+t._s(t.calculateCost(t.strengthenInfo))+" ")])])]),e("div",{staticClass:"click-box"},[e("el-checkbox",{model:{value:t.protect,callback:function(e){t.protect=e},expression:"protect"}},[t._v(" 炼器保护 ")]),e("el-checkbox",{model:{value:t.increase,callback:function(e){t.increase=e},expression:"increase"}},[t._v(" 炼器增幅 ")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.enhance(t.strengthenInfo)}}},[t._v(" 点击炼器 ")])],1)]):t._e()]),e("el-dialog",{attrs:{title:t.petInfo.name,visible:t.petShow,center:"",width:"420px"},on:{"update:visible":function(e){t.petShow=e}}},[e("div",{staticClass:"monsterinfo"},[e("div",{staticClass:"monsterinfo-box"},[e("p",[e("span",{staticClass:"description"},[t._v("境界: "+t._s(t.$levelNames[t.petInfo?.level]))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.level,t.player.pet?.level).icon})]),e("span",{staticClass:"value"},[t._v(" "+t._s(t.petInfo.level>parseInt(t.player.pet?.level||0)?t.$levelNames[t.petInfo.level]:t.$levelNames[t.player.pet?.level])+" ")])]),e("p",[e("span",{staticClass:"description"},[t._v("转生: "+t._s(t.petInfo?.reincarnation||0))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.reincarnation,t.player.pet?.reincarnation).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.reincarnation,t.player.pet?.reincarnation).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("气血: "+t._s(t.petInfo?.health))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.health,t.player.pet?.health).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.health,t.player.pet?.health).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("攻击: "+t._s(t.petInfo?.attack))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.attack,t.player.pet?.attack).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.attack,t.player.pet?.attack).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("防御: "+t._s(t.petInfo?.defense))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.defense,t.player.pet?.defense).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.defense,t.player.pet?.defense).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("闪避率: "+t._s(t.petInfo?.dodge>0?100*t.petInfo?.dodge>100?100:(100*t.petInfo?.dodge).toFixed(2):0)+"%")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.dodge,t.player.pet?.dodge).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.dodge,t.player?.pet?.dodge).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("暴击率: "+t._s(t.petInfo?.critical>0?100*t.petInfo?.critical>100?100:(100*t.petInfo?.critical).toFixed(2):0)+"%")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.critical,t.player.pet?.critical).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.critical,t.player.pet?.critical).num))])])])]),e("el-collapse",{staticClass:"collapse",model:{value:t.petCollapse,callback:function(e){t.petCollapse=e},expression:"petCollapse"}},[e("el-collapse-item",{attrs:{title:"基础属性对比",name:"1"}},[e("div",{staticClass:"monsterinfo-box"},[e("p",[e("span",{staticClass:"description"},[t._v("气血: "+t._s(t.petInfo?.initial?.health))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.initial?.health,t.player.pet?.initial?.health).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.initial?.health,t.player.pet?.initial?.health).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("攻击: "+t._s(t.petInfo?.initial?.attack))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.initial?.attack,t.player.pet?.initial?.attack).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.initial?.attack,t.player.pet?.initial?.attack).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("防御: "+t._s(t.petInfo?.initial?.defense))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.initial?.defense,t.player.pet?.initial?.defense).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.initial?.defense,t.player.pet?.initial?.defense).num))])]),e("p",[e("span",{staticClass:"description"},[t._v(" 闪避率: "+t._s(t.petInfo?.initial?.dodge>0?100*t.petInfo?.initial?.dodge>100?100:(100*t.petInfo?.initial?.dodge).toFixed(2):0)+"% ")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.initial?.dodge,t.player.pet?.initial?.dodge).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.initial?.dodge,t.player.pet?.initial?.dodge).num))])]),e("p",[e("span",{staticClass:"description"},[t._v(" 暴击率: "+t._s(t.petInfo?.initial?.critical>0?100*t.petInfo?.initial?.critical>100?100:(100*t.petInfo?.initial?.critical).toFixed(2):0)+"% ")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.petInfo?.initial?.critical,t.player.pet?.initial?.critical).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.petInfo?.initial?.critical,t.player.pet?.initial?.critical).num))])])])])],1),e("div",{staticClass:"dialog-footer"},[e("el-button",{staticClass:"dialog-footer-button",attrs:{type:"plain"},on:{click:function(e){return t.petClose(t.petInfo)}}},[t._v(" 灵宠放生 ")]),e("el-button",{staticClass:"dialog-footer-button",attrs:{type:"primary"},on:{click:function(e){return t.petCarry(t.petInfo)}}},[t._v(" 灵宠出战 ")])],1)],1),e("el-dialog",{attrs:{title:t.inventoryInfo.name,visible:t.inventoryShow,center:"",width:"420px"},on:{"update:visible":function(e){t.inventoryShow=e}}},[t.inventoryShow?e("div",{staticClass:"monsterinfo"},[e("div",{staticClass:"monsterinfo-box"},[e("p",[e("span",{staticClass:"description"},[t._v("类型: "+t._s(t.$genre[t.inventoryInfo.type]))]),e("span",{staticClass:"icon"}),e("span",{staticClass:"value"})]),e("p",[e("span",{staticClass:"description"},[t._v("炼器: "+t._s(t.inventoryInfo.strengthen||0))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo.strengthen,t.player.equipment[t.inventoryInfo.type]?.strengthen).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo.strengthen,t.player.equipment[t.inventoryInfo.type]?.strengthen).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("境界: "+t._s(t.$levelNames[t.inventoryInfo.level]))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo.level,t.player.equipment[t.inventoryInfo.type]?.level).icon})]),e("span",{staticClass:"value"},[t._v(" "+t._s(t.inventoryInfo.level>parseInt(t.player.equipment[t.inventoryInfo.type]?.level||1)?t.$levelNames[t.inventoryInfo.level]:t.$levelNames[t.player.equipment[t.inventoryInfo.type]?.level])+" ")])]),e("p",[e("span",{staticClass:"description"},[t._v("品质: "+t._s(t.$levels[t.inventoryInfo.quality]))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.levelsNum[t.inventoryInfo.quality],t.levelsNum[t.player.equipment[t.inventoryInfo.type]?.quality]).icon})]),e("span",{staticClass:"value"},[t._v(" "+t._s(t.calculateDifference(t.levelsNum[t.inventoryInfo.quality],t.levelsNum[t.player.equipment[t.inventoryInfo.type]?.quality]).num<0?t.$levels[t.player.equipment[t.inventoryInfo.type]?.quality]:t.$levels[t.inventoryInfo.quality])+" ")])]),e("p",[e("span",{staticClass:"description"},[t._v("气血: "+t._s(t.inventoryInfo?.health))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.health,t.player.equipment[t.inventoryInfo.type]?.health).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.health,t.player.equipment[t.inventoryInfo.type]?.health).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("攻击: "+t._s(t.inventoryInfo?.attack))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.attack,t.player.equipment[t.inventoryInfo.type]?.attack).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.attack,t.player.equipment[t.inventoryInfo.type]?.attack).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("防御: "+t._s(t.inventoryInfo?.defense))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.defense,t.player.equipment[t.inventoryInfo.type]?.defense).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.defense,t.player.equipment[t.inventoryInfo.type]?.defense).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("闪避率: "+t._s(t.inventoryInfo?.dodge>0?100*t.inventoryInfo?.dodge>100?100:(100*t.inventoryInfo?.dodge).toFixed(2):0)+"%")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.dodge,t.player.equipment[t.inventoryInfo.type]?.dodge).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.dodge,t.player.equipment[t.inventoryInfo.type]?.dodge).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("暴击率: "+t._s(t.inventoryInfo?.critical>0?100*t.inventoryInfo?.critical>100?100:(100*t.inventoryInfo?.critical).toFixed(2):0)+"%")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.critical,t.player.equipment[t.inventoryInfo.type]?.critical).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.critical,t.player.equipment[t.inventoryInfo.type]?.critical).num))])])])]):t._e(),e("el-collapse",{staticClass:"collapse",model:{value:t.inventoryCollapse,callback:function(e){t.inventoryCollapse=e},expression:"inventoryCollapse"}},[e("el-collapse-item",{attrs:{title:"基础属性对比",name:"1"}},[e("div",{staticClass:"monsterinfo-box"},[e("p",[e("span",{staticClass:"description"},[t._v("气血: "+t._s(t.inventoryInfo?.initial?.health))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.initial?.health,t.player.equipment[t.inventoryInfo.type]?.initial?.health).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.initial?.health,t.player.equipment[t.inventoryInfo.type]?.initial?.health).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("攻击: "+t._s(t.inventoryInfo?.initial?.attack))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.initial?.attack,t.player.equipment[t.inventoryInfo.type]?.initial?.attack).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.initial?.attack,t.player.equipment[t.inventoryInfo.type]?.initial?.attack).num))])]),e("p",[e("span",{staticClass:"description"},[t._v("防御: "+t._s(t.inventoryInfo?.initial?.defense))]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.initial?.defense,t.player.equipment[t.inventoryInfo.type]?.initial?.defense).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.initial?.defense,t.player.equipment[t.inventoryInfo.type]?.initial?.defense).num))])]),e("p",[e("span",{staticClass:"description"},[t._v(" 闪避率: "+t._s(t.inventoryInfo?.initial?.dodge>0?100*t.inventoryInfo?.initial?.dodge>100?100:(100*t.inventoryInfo?.initial?.dodge).toFixed(2):0)+"% ")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.initial?.dodge,t.player.equipment[t.inventoryInfo.type]?.initial?.dodge).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.initial?.dodge,t.player.equipment[t.inventoryInfo.type]?.initial?.dodge).num))])]),e("p",[e("span",{staticClass:"description"},[t._v(" 暴击率: "+t._s(t.inventoryInfo?.initial?.critical>0?100*t.inventoryInfo?.initial?.critical>100?100:(100*t.inventoryInfo?.initial?.critical).toFixed(2):0)+"% ")]),e("span",{staticClass:"icon"},[e("i",{class:t.calculateDifference(t.inventoryInfo?.initial?.critical,t.player.equipment[t.inventoryInfo.type]?.initial?.critical).icon})]),e("span",{staticClass:"value"},[t._v(t._s(t.calculateDifference(t.inventoryInfo?.initial?.critical,t.player.equipment[t.inventoryInfo.type]?.initial?.critical).num))])])])])],1),e("div",{staticClass:"dialog-footer"},[e("el-button",{staticClass:"inventory-button",attrs:{type:"plain"},on:{click:function(e){return t.inventoryClose(t.inventoryInfo)}}},[t._v(" 装备出售 ")]),e("el-button",{staticClass:"inventory-button",attrs:{type:"plain"},on:{click:function(e){return t.inventoryLock(t.inventoryInfo.id)}}},[t._v(" "+t._s(t.inventoryInfo.lock?"装备解锁":"装备锁定")+" ")]),e("el-button",{staticClass:"inventory-button",attrs:{type:"primary"},on:{click:function(e){return t.equipItem(t.inventoryInfo.id,t.inventoryInfo.type)}}},[t._v(" 立即装备 ")])],1)],1),e("el-dialog",{attrs:{title:"批量出售设置",visible:t.sellingEquipmentShow,width:"600px"},on:{"update:visible":function(e){t.sellingEquipmentShow=e}}},[e("el-checkbox-group",{on:{change:t.sellingEquipmentDataChange},model:{value:t.player.sellingEquipmentData,callback:function(e){t.$set(t.player,"sellingEquipmentData",e)},expression:"player.sellingEquipmentData"}},t._l(t.AllEquipmenType,(function(i,a){return e("el-checkbox",{key:a,attrs:{label:i}},[t._v(" "+t._s(t.$levels[i])+" ")])})),1),e("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px"}},[e("el-button",{staticClass:"dialog-footer-button",on:{click:t.sellingEquipment}},[t._v(" 出售装备 ")])],1)],1),e("el-dialog",{attrs:{title:"数据管理",visible:t.show,width:"600px"},on:{"update:visible":function(e){t.show=e}}},[e("div",{staticClass:"dialog-footer"},[t.innerWidth>750?e("el-button",{staticClass:"dialog-footer-button computer",attrs:{type:"info"},on:{click:function(e){return t.exportData("computer")}}},[t._v(" 导出存档 ")]):e("el-button",{staticClass:"dialog-footer-button mobile",attrs:{type:"info"},on:{click:function(e){return t.exportData("mobile")}}},[t._v(" 导出存档 ")]),t.innerWidth>750?e("el-upload",{staticClass:"dialog-upload computer",attrs:{action:"#","http-request":t.importData,"show-file-list":!1,accept:"application/json"}},[e("el-button",{staticClass:"dialog-footer-button",attrs:{type:"warning"}},[t._v(" 导入存档 ")])],1):e("div",{staticClass:"dialog-upload mobile"},[e("el-button",{staticClass:"dialog-footer-button",attrs:{type:"warning"},on:{click:t.importMobileData}},[t._v(" 导入存档 ")])],1),e("el-button",{staticClass:"dialog-footer-button",attrs:{type:"danger"},on:{click:t.deleteData}},[t._v(" 删除存档 ")]),e("a",{staticClass:"el-button dialog-footer-button el-button--primary",attrs:{href:"https://qm.qq.com/q/D23KDtpCQC",target:"_blank"}},[t._v(" 官方群聊 ")])],1)])],1)},N=[];i(726),i(2765),i(3312);const T={drawPrize(t){const e=[{type:"weapon",data:this.equipWeapons()},{type:"armor",data:this.equipArmors()},{type:"accessory",data:this.equipAccessories()},{type:"sutra",data:this.equipSutras()}],i={sutra:"法器",armor:"护甲",weapon:"兵器",accessory:"灵宝"},a=(t,e,i)=>{const a=15,s=1e3*e,n=1e4*e,r=.1,o={dodge:["accessory","sutra"].includes(t)?r*a:0,attack:["weapon","accessory","sutra"].includes(t)?s*a:0,health:["armor","accessory","sutra"].includes(t)?n*a:0,defense:["armor","accessory","sutra"].includes(t)?s*a:0,critical:["weapon","accessory","sutra"].includes(t)?r*a:0};return o[i]};return e.map((({type:e,data:s})=>({type:e,name:i[e],data:s.flatMap((i=>({id:Date.now(),name:i,type:e,lock:!0,level:t,dodge:a(e,t,"dodge"),attack:a(e,t,"attack"),health:a(e,t,"health"),defense:a(e,t,"defense"),critical:a(e,t,"critical"),initial:{dodge:a(e,t,"dodge"),attack:a(e,t,"attack"),health:a(e,t,"health"),defense:a(e,t,"defense"),critical:a(e,t,"critical")},quality:"pink"})))})))},equipWeapons(){return["粉晶月刃剑","樱花吹雪弓","蔷薇缠绕鞭","蜜桃梦境杖","粉蝶幻光刃","粉晶流光扇","甜梦水晶枪","粉樱魔法杖","粉钻心语弩","柔粉蔷薇盾"]},equipArmors(){return["粉樱绮梦裳","甜梦粉蝶衣","蜜桃恋曲裙","粉晶流光铠","樱花恋歌袍","柔粉蔷薇甲","粉蝶翩翩袖","甜梦羽织衣","粉晶幻彩裙","蜜桃梦境袍"]},equipAccessories(){return["粉晶梦蝶链","樱花恋曲簪","甜梦蔷薇戒","蜜桃绮梦环","粉蝶轻舞坠","粉晶甜蜜链","柔粉心语珥","樱花绮梦镯","蜜桃梦境簪","粉蝶幻彩带"]},equipSutras(){return["粉樱梦幻笛","甜心粉蝶壶","蜜桃恋语镜","粉晶流光珠","柔粉绮梦石","樱花纷飞扇","甜梦绮罗盘","蜜桃幻影灯","粉蝶织梦琴","粉樱守护符"]}};var D=T;const F={drawPrize(t,e,i,a,s,n,r,o,l){t=0==t?1:t,l&&(t=this.getRandomInt(1,t));const c={info:{names:i,probability:50},success:{names:a,probability:20},primary:{names:s,probability:15},purple:{names:n,probability:9},warning:{names:r,probability:5},danger:{names:o,probability:1}},p=Object.values(c).reduce(((t,{probability:e})=>t+e),0),h=Math.floor(Math.random()*p);let u=0;const y=this.equip_Criticalhitrate(t),d=this.equip_Attack(t),m=this.equip_Attack(t),f=this.equip_Health(t);for(const[v,{names:g,probability:b}]of Object.entries(c))if(u+=b,h<u){const i={id:Date.now(),name:g[Math.floor(Math.random()*g.length)],type:e,lock:!1,level:t,dodge:["accessory","sutra"].includes(e)?y:0,attack:["weapon","accessory","sutra"].includes(e)?d:0,health:["armor","accessory","sutra"].includes(e)?f:0,quality:v,defense:["armor","accessory","sutra"].includes(e)?m:0,critical:["weapon","accessory","sutra"].includes(e)?y:0,initial:{dodge:["accessory","sutra"].includes(e)?y:0,attack:["weapon","accessory","sutra"].includes(e)?d:0,health:["armor","accessory","sutra"].includes(e)?f:0,defense:["armor","accessory","sutra"].includes(e)?m:0,critical:["weapon","accessory","sutra"].includes(e)?y:0},strengthen:0},a={info:1.2,success:2,primary:3,purple:5,warning:7,danger:10},s=a[v];return i.dodge=parseFloat(i.dodge*s),i.attack=Math.floor(i.attack*s),i.health=Math.floor(i.health*s),i.defense=Math.floor(i.defense*s),i.critical=parseFloat(i.critical*s),i.initial.dodge=parseFloat(i.initial.dodge*s),i.initial.attack=Math.floor(i.initial.attack*s),i.initial.health=Math.floor(i.initial.health*s),i.initial.defense=Math.floor(i.initial.defense*s),i.initial.critical=parseFloat(i.initial.critical*s),i}},equip_Weapons(t,e=!1){const i=["白玉净尘剑","雪魄寒冰枪","白龙吟风弓","月华流光扇","白玉玄灵笛","霜雪无痕鞭","云隐白凰刃","净世白莲杖","冰魄寒光轮","白玉玲珑塔"],a=["翠玉青藤剑","碧影灵蛇鞭","绿叶风暴弓","青木长生杖","翡翠灵犀刃","藤蔓缠绕索","翠竹清风扇","生命之泉壶","绿野仙踪笛","森罗万象轮"],s=["寒冰破晓剑","碧海潮生笛","蓝玉冰魄弓","苍穹蓝龙枪","冰魄寒光剑","鲛人织梦扇","深海之怒戟","碧波凌霄杖","幽蓝蝶舞鞭","银河落霜刃"],n=["紫霄龙吟剑","幽冥紫蝶刃","星河紫电枪","紫玉寒冰弓","紫焰凤凰琴","苍穹紫雷锤","紫莲幽光扇","紫晶破晓戟","幽冥紫影鞭","紫霄凌虚杖"],r=["金煌剑","炽焰长枪","琥珀流光弓","龙鳞金斧","破晓黄玉锤","炎阳鞭","流光扇","战神金戟","黄芒闪电刃","日曜乾坤轮"],o=["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"];return this.drawPrize(t,"weapon",i,a,s,n,r,o,e)},equip_Armors(t,e=!1){const i=["瑶池仙绡羽衣","广寒玉兔霜甲","昆仑玉璧战袍","白龙吐珠云裳","九天玄女素绫","瑶光星辰织锦","冰魄银丝战衣","凌霄琼华宝衣","雪域神女雪绒","云隐龙鳞轻铠"],a=["翠竹幽兰轻衫","碧落青藤云裳","碧眼麒麟战衣","青鸾翔翼织锦","苍梧古木灵袍","绿野仙踪羽衣","灵蛇翠蔓软甲","翡翠琉璃长裙","松风竹影轻裘","春水碧于天衣"],s=["寒冰护甲衣","碧波守护铠","蓝玉冰心链甲","苍穹蓝灵披风","深海蛟龙鳞甲","冰魄幽光战铠","蓝蝶轻舞护腕","银河之盾胸甲","鲛人织梦护腿","碧波凌波靴"],n=["紫云织锦袍","幽冥紫霜甲","星河紫霞衣","紫玉冰心链甲","紫焰凤凰披风","苍穹紫雷战铠","紫莲幽光护腕","紫晶凌霄战裙","幽冥紫影护腿","紫霄逐风靴"],r=["金辉流光锦袍","琥珀流光战衣","黄土龙纹长袍","日炎金鳞铠甲","秋菊金缎华服","蜜蜡黄绸云裳","凤凰涅槃黄衫","黄沙漫天披风","金穗流光纱裙","辉煌金羽战袍"],o=["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"];return this.drawPrize(t,"armor",i,a,s,n,r,o,e)},equip_Accessorys(t,e=!1){const i=["瑶池白玉簪","月华流光坠","寒霜凝露链","九天玄女玉佩","云锦织梦镯","龙涎润雪环","白鹤衔珠珮","仙山雪莲花链","瑶台仙露耳环","银河织梦项链"],a=["翠竹凝露簪","碧泉幽兰链","青藤绕梦镯","翡翠灵叶耳环","灵山仙草玉佩","松柏长青戒","翠影轻舞项链","绿野仙踪手环","碧波荡漾珠链","春回大地玉珮"],s=["碧海珊瑚簪","冰魄幽蓝链","深海珍珠耳环","蓝田玉髓镯","苍穹蓝宝坠","鲛人泪滴珠","碧波荡漾戒","银河之心项链","蓝蝶飞舞手环","深海龙鳞珮"],n=["紫霄流光戒","幽冥紫蝶项链","星河紫玉耳环","紫玉冰心手链","紫焰凤凰簪","苍穹紫雷吊坠","紫莲幽光发带","紫晶破晓护符","幽冥紫影指环","紫霄凌虚玉佩"],r=["金辉日冕簪","琥珀流光链","黄粱一梦镯","皇天后土玉佩","蜜蜡福瑞戒","秋收万颗项链","暖阳照耀耳环","炎黄子孙玉珮","金色麦田手环","盛世繁华珠链"],o=["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"];return this.drawPrize(t,"accessory",i,a,s,n,r,o,e)},equip_Sutras(t,e=!1){const i=["白玉净瓶","寒霜琉璃镜","瑶池雪莲珠","九天玄冰尺","月华宝莲灯","白云隐龙笛","玉清昆仑扇","净世白莲座","银河落雪琴","碧落瑶光盘"],a=["翠玉葫芦","青木长生杖","碧落灵珠","幽冥鬼藤鞭","万木回春图","绿绮琴音笛","青鸾火凤羽扇","翠影追魂剑","草木皆兵符","碧泉灵泉壶"],s=["碧波神珠","冰魄寒玉葫","深海龙息珠","苍穹蓝灵珠","鲛人织梦灯","银河落霜瓶","蓝玉冰心镜","寒冰净世莲","碧波幽兰笛","深海龙吟佩"],n=["紫霄神雷珠","幽冥紫蝶翼","星河紫玉壶","紫玉冰心镜","紫焰凤凰翎","苍穹紫雷鼎","紫莲幽光轮","紫晶破晓琴","幽冥紫影幡","紫霄凌虚印"],r=["金蛟剪","乾坤圈","黄金玲珑塔","戊己杏黄旗","轩辕黄帝鼎","镇妖伏魔镜","落日熔金轮","万寿无疆葫芦","金翅大鹏羽扇","地黄玄玉珠"],o=["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"];return this.drawPrize(t,"sutra",i,a,s,n,r,o,e)},equip_Attack(t){return this.getRandomInt(10,50)*t},equip_Health(t){return this.getRandomInt(100,500)*t},equip_Criticalhitrate(){return this.getRandomFloatInRange(.001,.005)},getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},getRandomFloatInRange(t,e){return Math.random()*(e-t)+t}};var R=F,B={data(){return{show:!1,player:{pet:{},pets:[],level:0,dodge:0,points:0,attack:10,health:100,defense:10,taskNum:0,rootBone:0,critical:0,isNewbie:!1,currency:0,maxHealth:100,inventory:[],equipment:{sutra:{},armor:{},weapon:{},accessory:{}},achievement:{pet:[{id:1,state:!1},{id:2,state:!1},{id:3,state:!1},{id:4,state:!1},{id:5,state:!1},{id:6,state:!1}],monster:[],equipment:[]},cultivation:0,cultivateDan:0,reincarnation:0,maxCultivation:100,strengtheningStone:0,sellingEquipmentData:[]},actions:[],isLevel:!1,petShow:!1,petInfo:{},protect:!1,increase:!1,shopItems:[],levelsNum:{info:1,pink:7,danger:6,purple:4,primary:3,success:2,warning:5},storyText:"",shopPrice:100,mobileData:"",shopActive:"weapon",innerWidth:0,petItemShow:!1,backPackItem:[{type:"weapon",name:"神兵"},{type:"armor",name:"护甲"},{type:"accessory",name:"灵宝"},{type:"sutra",name:"法器"}],petRootBone:!1,petCollapse:"",inventoryInfo:{},inventoryShow:!1,strengthenShow:!1,strengthenInfo:{},checkedEquipmen:[],inventoryActive:"weapon",AllEquipmenType:["info","success","primary","purple","warning","danger","pink"],petReincarnation:!1,inventoryCollapse:"",sellingEquipmentShow:!1}},watch:{"player.attack":function(t){isNaN(t)?this.reset():this.player.attack=t},"player.health":function(t){isNaN(t)?this.reset():this.player.health=t},"player.defense":function(t){isNaN(t)?this.reset():this.player.defense=t},"player.maxHealth":function(t){isNaN(t)?this.reset():this.player.maxHealth=t},"player.critical":function(t){isNaN(t)||t<0?(this.player.critical=0,this.storyText="暴击属性出错, 请手动卸下身上穿的所有装备后刷新游戏"):this.player.critical=t},"player.dodge":function(t){isNaN(t)||t<0?(this.player.dodge=0,this.storyText="闪避属性出错, 请手动卸下身上穿的所有装备后刷新游戏"):this.player.dodge=t}},mounted(){this.innerWidth=window.innerWidth;const t=this.$store.state;if(localStorage.vuex){const t=JSON.parse(localStorage.vuex),e=g.decryption(t.player),i=e.version?e.version:0;if(!i)return void this.clearSave()}t&&(this.boss=t.boss,this.player=t.player,this.player.level=this.player.level?this.player.level:0,this.player.dodge=this.player.dodge?this.player.dodge:0,this.player.attack=this.player.attack?this.player.attack:10,this.player.health=this.player.health?this.player.health:100,this.player.defense=this.player.defense?this.player.defense:0,this.player.version=this.player.version?this.player.version:.7,this.player.maxHealth=this.player.maxHealth?this.player.maxHealth:100,this.player.pet=this.player.pet?this.player.pet:{},this.player.pets=this.player.pets?this.player.pets:[],this.player.rootBone=this.player.rootBone?Math.floor(this.player.rootBone):0,this.player.currency=this.player.currency?Math.floor(this.player.currency):0,this.player.achievement=this.player.achievement?this.player.achievement:{pet:[],monster:[],equipment:[]},this.player.cultivateDan=this.player.cultivateDan?Math.floor(this.player.cultivateDan):0,this.player.reincarnation=this.player.reincarnation?this.player.reincarnation:0,this.player.strengtheningStone=this.player.strengtheningStone?Math.floor(this.player.strengtheningStone):0,this.player.sellingEquipmentData=this.player.sellingEquipmentData?this.player.sellingEquipmentData:[],this.player.pets.length&&this.player.pets.forEach((t=>{t.reincarnation=t.reincarnation?t.reincarnation:0})),this.player.inventory.length&&this.player.inventory.forEach((t=>{t.dodge=parseFloat(t.dodge),t.attack=Math.floor(t.attack),t.health=Math.floor(t.health),t.defense=Math.floor(t.defense),t.critical=parseFloat(t.critical)}))),this.startGame()},methods:{startGame(){this.player.cultivation?this.storyText="你准备好出门遭受毒打了吗?":this.storyText="你的修仙之旅开始了。",this.actions=[{text:"开始修炼",handler:()=>this.$router.push("/cultivate")},{text:"探索秘境",handler:()=>{this.player.level<10?this.$notify({title:"实力不足提示",message:`外面太危险了, 请突破到${this.$levelNames[10]}再出去吧!`}):this.$router.push("/explore")}},{text:"出售装备",handler:this.sellingEquipmentBox},{text:"图鉴与成就",type:"warning",handler:()=>this.$router.push("/equipAll")},{text:"世界BOSS",type:"danger",handler:()=>this.$router.push("/boss")}],this.player.health=this.player.maxHealth,this.$store.commit("setPlayer",this.player)},clearSave(){this.$confirm("由于当前游戏版本不兼容存档版本,需要删档处理","存档删除提示",{center:!0,showClose:!1,showCancelButton:!1,confirmButtonText:"确定",closeOnClickModal:!1,closeOnPressEscape:!1}).then((()=>{localStorage.removeItem("vuex"),location.reload(1)}))},reset(){this.storyText='属性出错, 请添加QQ群:920930589, 上传"存档"并联系作者解决',this.$confirm("你是否要导出存档?","存档导出提示",{center:!0,confirmButtonText:"确定"}).then((()=>{this.exportData()})).catch((()=>{}))},sellingEquipment(){const t=this.player.inventory,e=this.player.sellingEquipmentData;if(!e.length)return void this.$notify({title:"背包装备出售提示",message:"你没有选择勾选需要出售的品阶"});const i=t.filter((t=>e.includes(t.quality)&&!t.lock));if(!i.length)return void this.$notify({title:"背包装备出售提示",message:"背包内并没有可以售卖的装备"});this.sellingEquipmentShow=!1;const a=i.reduce(((t,e)=>{let i=e.level+e.level*this.player.reincarnation/10;return i=Number(i)||0,t+Math.floor(i)}),0);this.player.strengtheningStone+=a,this.player.inventory=t.filter((t=>!e.includes(t.quality)||t.lock)),this.$store.commit("setPlayer",this.player),this.$notify({title:"背包装备出售提示",message:`背包内所有非锁定装备已成功出售, 你获得了${a}个炼器石`})},sellingEquipmentDataChange(t){this.player.sellingEquipmentData=t,this.$store.commit("setPlayer",this.player)},tabClick(){"shop"==this.inventoryActive&&(this.shopItems=D.drawPrize(this.$maxLv))},deleteData(t){this.$confirm(t?"你确定要出售背包里的所有装备吗?":"你确定要删除存档吗?建议数据出问题的时候再删除",t?"装备出售提示":"数据删除提示",{center:!0,cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{this.$notify({title:"提示",message:"存档删除成功"}),localStorage.removeItem("vuex"),location.reload(1)})).catch((()=>{}))},importMobileData(){const t=this.$createElement;this.$msgbox({title:"存档导入",message:t("div",{attrs:{class:"el-textarea"}},[t("textarea",{on:{input:t=>{this.mobileData=t.target.value}},attrs:{rows:5,class:"el-textarea__inner",placeholder:"请粘贴从其他设备复制存档数据到这里",autocomplete:"off"},value:""})]),showCancelButton:!0,confirmButtonText:"导入"}).then((()=>{localStorage.setItem("vuex",this.mobileData),this.$notify({title:"提示",message:"存档导入成功"}),location.reload(1)})).catch((()=>{}))},importData(t){const e=t.file,i=new FileReader;i.onload=t=>{try{localStorage.setItem("vuex",t.target.result),location.reload(1)}catch(e){this.$notify({title:"数据导入失败",message:`错误信息:${e}`})}},i.readAsText(e)},exportData(t){if("mobile"==t){const t=this.$createElement;this.$msgbox({title:"存档导出",message:t("div",{attrs:{class:"el-textarea"}},[t("textarea",{on:{input:localStorage.vuex},attrs:{rows:5,class:"el-textarea__inner",placeholder:"存档数据",autocomplete:"off"},value:localStorage.vuex,domProps:{value:localStorage.vuex}})]),showCancelButton:!0,confirmButtonText:"复制"}).then((()=>{this.$copyText(localStorage.vuex).then((()=>{this.$notify({title:"提示",message:"存档复制成功"})}))})).catch((()=>{}))}else{const t=new Date,e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),r=String(t.getSeconds()).padStart(2,"0"),o=new Blob([localStorage.getItem("vuex")],{type:"application/json;charset=utf-8"}),l=`文字修仙小游戏存档${e}-${i}-${a} ${s}:${n}:${r}.json`,c=URL.createObjectURL(o),p=document.createElement("a");p.href=c,p.download=l,document.body.appendChild(p),p.click(),document.body.removeChild(p)}},sellingEquipmentBox(){this.show=!1,this.sellingEquipmentShow=!0},equipItem(t,e){const i=this.getObjectById(t,this.player.inventory);if(i.level>this.player.level)this.$notify({title:"当前境界不足",message:"无法穿戴该装备"});else{if("{}"!=JSON.stringify(this.player.equipment[e])){const t=this.player.equipment[e];this.playerAttribute(-t.dodge,-t.attack,-t.health,-t.critical,-t.defense),this.player.inventory.push(t)}this.player.equipment[e]=i,this.playerAttribute(i.dodge,i.attack,i.health,i.critical,i.defense),this.player.inventory=this.player.inventory.filter((e=>e.id!==t)),e="",this.inventoryShow=!1,this.$store.commit("setPlayer",this.player)}},inventoryLock(t){let e=this.getObjectById(t,this.player.inventory);e.lock=!e.lock,this.$store.commit("setPlayer",this.player),this.$notify({title:e.lock?"装备锁定提示":"装备解锁提示",message:e.lock?"装备锁定成功":"装备解锁成功"})},petCarry(t){const e=this.getObjectById(t.id,this.player.pets);if("{}"!=JSON.stringify(this.player.pet)){const t=this.player.pet;this.playerAttribute(-t.dodge,-t.attack,-t.health,-t.critical,-t.defense),this.player.pets.push(this.player.pet)}this.petShow=!1,this.player.pet=e,this.playerAttribute(e.dodge,e.attack,e.health,e.critical,e.defense),this.player.pets=this.player.pets.filter((e=>e.id!==t.id)),this.$store.commit("setPlayer",this.player)},petClose(t){this.$confirm(`你确定要放生<span class="el-tag el-tag--${this.computePetsLevel(t.level)}">${t.name}(${this.$levelNames[t.level]})</span>吗?`,"灵宠放生通知",{center:!0,cancelButtonText:"取消放生",confirmButtonText:"确定放生",dangerouslyUseHTMLString:!0}).then((()=>{const e=t.reincarnation?t.reincarnation:1,i=t.level*e;this.petShow=!1,this.player.cultivateDan+=i,this.player.pets=this.player.pets.filter((e=>e.id!==t.id)),this.$store.commit("setPlayer",this.player),this.$notify({title:`${t.name}已成功放生`,message:`对方临走时赠与了你${i}个培养丹`})})).catch((()=>{}))},calculateDifference(t,e){t=t||0,e=e||0;const i=t=>Number(t)===t&&t%1!==0,a=t-parseFloat(e)<-1?-1:t-parseFloat(e)>1?1:t-parseFloat(e),s={num:i(t)||i(e)?(100*a).toFixed(2)+"%":t-parseInt(e),icon:t>e?"success el-icon-caret-top":t==e?"":"danger el-icon-caret-bottom"};return s.num=0==s.num?"":s.num,s},enhance(t){const e=this.calculateEnhanceSuccessRate(t),i=this.calculateCost(t);i>this.player.strengtheningStone?this.$notify({title:"炼器提示",message:"炼器石不足, 进行无法炼器操作",position:"top-left"}):25!=t.strengthen?this.$confirm(t.strengthen>=15&&!this.protect?`当前装备炼器等级已达到+${t.strengthen}, 如果炼器失败该装备会销毁, 请问还需要炼器吗?`:"你确定要炼器吗?","炼器提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{if(Math.random()<=e){const e=parseFloat(.4*t.initial.dodge),i=Math.floor(.4*t.initial.attack),a=Math.floor(.4*t.initial.health),s=Math.floor(.4*t.initial.defense),n=parseFloat(.4*t.initial.critical);switch(t.type){case"weapon":t.attack+=i,t.critical+=n,this.playerAttribute(0,i,0,n,0);break;case"armor":t.health+=a,t.defense+=s,this.playerAttribute(0,0,a,0,s);break;case"accessory":case"sutra":t.dodge+=e,t.attack+=i,t.health+=a,t.defense+=s,t.critical+=n,this.playerAttribute(e,i,a,n,s);break;default:break}t.strengthen++,this.$notify({title:"炼器提示",message:"炼器成功",position:"top-left"})}else t.strengthen>=15&&!this.protect&&(this.player.equipment[t.type]={},this.playerAttribute(-t.dodge,-t.attack,-t.health,-t.critical,-t.defense),t.strengthen=0,this.strengthenShow=!1),this.$notify({title:"炼器提示",message:t.strengthen>=15&&!this.protect?"炼器失败, 装备已自动销毁":"炼器失败",position:"top-left"});this.player.strengtheningStone-=i,this.$store.commit("setPlayer",this.player)})).catch((()=>{})):this.$notify({title:"炼器提示",message:"当前装备炼器等级已满",position:"top-left"})},calculateCost(t){let e=5*t.level,i=50*t.strengthen,a=this.protect?10:1,s=this.increase?5:1;return(e+i)*a*s},calculateEnhanceSuccessRate(t){let e=1,i=.04,a=this.increase?.1:0;return e-(t.strengthen*i-a)},petUpgrade(t){const e=this.petConsumption(t.level);this.petRootBone&&this.player.rootBone<t.rootBone?this.$notify({title:"灵宠培养提示",message:"根骨丹不足, 无法提升灵宠根骨",position:"top-left"}):this.petReincarnation&&this.player.reincarnation<this.player.pet.reincarnation?this.$notify({title:"灵宠培养提示",message:"灵宠转生不能高于人物转生",position:"top-left"}):this.petReincarnation&&this.$maxLv>t.level?this.$notify({title:"灵宠培养提示",message:"灵宠境界未满无法转生",position:"top-left"}):!this.petReincarnation&&t.level>=this.$maxLv?this.$notify({title:"灵宠培养提示",message:"灵宠境界已满请转生",position:"top-left"}):e>this.player.cultivateDan?this.$notify({title:"灵宠培养提示",message:"培养丹不足, 进行无法培养",position:"top-left"}):this.$confirm("你确定要培养该灵宠吗?","灵宠培养提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{let i,a,s,n,r=0;this.petRootBone&&this.player.rootBone>=t.rootBone?(i=parseFloat(t.initial.dodge*t.rootBone),a=Math.floor(t.initial.attack*t.rootBone),s=Math.floor(t.initial.health*t.rootBone),n=Math.floor(t.initial.defense*t.rootBone),r=parseFloat(t.initial.critical*t.rootBone),t.rootBone++,this.player.rootBone-=t.rootBone):(i=parseFloat(.2*t.initial.dodge),a=Math.floor(.2*t.initial.attack),s=Math.floor(.2*t.initial.health),n=Math.floor(.2*t.initial.defense),r=parseFloat(.2*t.initial.critical)),t.level>=this.$maxLv?(this.player.pet.level=1,this.petReincarnation=!1,this.player.pet.reincarnation++,this.$notify({title:"灵宠培养提示",message:"灵宠转生成功, 已重置灵宠境界",position:"top-left"})):(this.player.pet.level++,this.$notify({title:"灵宠培养提示",message:"灵宠培养成功",position:"top-left"})),this.player.pet.dodge+=i,this.player.pet.attack+=a,this.player.pet.health+=s,this.player.pet.defense+=n,this.player.pet.critical+=r,this.playerAttribute(i,a,s,r,n),this.player.cultivateDan-=e,this.$store.commit("setPlayer",this.player)})).catch((()=>{}))},petConsumption(t){const e=this.petReincarnation?10:1,i=this.player.pet.reincarnation?200*t:1;return(200*t+i)*e},shopBuy(t){this.player.currency>=this.shopPrice?(this.player.currency-=this.shopPrice,this.player.inventory.push(t),this.$store.commit("setPlayer",this.player),this.inventoryActive=t.type,this.$notify({title:"购买提示",message:`您成功花费${this.shopPrice}鸿蒙石购买${t.name}`})):this.$notify({title:"购买提示",message:"购买失败, 鸿蒙石不足"})},shopItemInfo(t){this.$confirm("",t.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>价格: ${this.shopPrice}鸿蒙石</p>\n                            <p>类型: ${this.$genre[t.type]}</p>\n                            <p>境界: ${this.$levelNames[t.level]}</p>\n                            <p>品质: ${this.$levels[t.quality]}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(t.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(t.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(t.defense)}</p>\n                            <p>闪避率: ${t.dodge>0?100*t.dodge>100?100:(100*t.dodge).toFixed(2):0}%</p>\n                            <p>暴击率: ${t.critical>0?100*t.critical>100?100:(100*t.critical).toFixed(2):0}%</p>\n                        </div>\n                    </div>`,cancelButtonText:"取消购买",confirmButtonText:"购买装备",dangerouslyUseHTMLString:!0}).then((()=>{this.shopBuy(t)})).catch((()=>{}))},newbiePack(t){if(!this.player.isNewbie){let e={};if(4==t)e=R.equip_Weapons(10,!1);else if(3==t)e=R.equip_Armors(10,!1);else if(2==t)e=R.equip_Accessorys(10,!1);else if(1==t)e=R.equip_Sutras(10,!1);else{if(0!=t)return;this.player.isNewbie=!0,this.$notify({title:"新手礼包领取提示",message:"新手礼包领取成功!"})}this.player.inventory.push(e),t--,setTimeout((()=>{this.newbiePack(t)}),100),this.$store.commit("setPlayer",this.player)}},inventoryClose(t){this.$confirm(`你确定要出售<span class="el-tag el-tag--${t.quality}">${this.$levels[t.quality]}${t.name}(${this.$genre[t.type]})</span>吗?`,"装备出售通知",{center:!0,cancelButtonText:"取消出售",confirmButtonText:"确定出售",dangerouslyUseHTMLString:!0}).then((()=>{const e=t.level+Math.floor(t.level*this.player.reincarnation/10);this.player.strengtheningStone+=e,this.player.inventory=this.player.inventory.filter((e=>e.id!==t.id)),this.inventoryShow=!1,this.$store.commit("setPlayer",this.player),this.$notify({title:"背包装备售卖提示",message:`${t.name}已成功卖出, 你获得了${e}个炼器石`})})).catch((()=>{}))},getObjectById(t,e){return e.find((e=>e.id===t))},inventory(t){this.inventoryInfo=this.getObjectById(t,this.player.inventory),this.inventoryShow=!0},petItemInfo(t){this.petShow=!0,this.petInfo=t},petRetract(){const t=this.player.pet;"{}"!=JSON.stringify(t)&&(this.playerAttribute(-t.dodge,-t.attack,-t.health,-t.critical,-t.defense),this.inventoryActive="pet",this.player.pets.push(t),this.player.pet={},this.$store.commit("setPlayer",this.player))},computePetsLevel(t){return t>=1&&t<=9?"success":t>=10&&t<=19?"primary":t>=20&&t<=29?"warning":t>=30?"danger":void 0},playerAttribute(t=0,e=0,i=0,a=0,s=0){t=isNaN(t)||!t?0:parseFloat(t),e=isNaN(e)||!e?0:Math.floor(e),i=isNaN(i)||!i?0:Math.floor(i),s=isNaN(s)||!s?0:Math.floor(s),a=isNaN(a)||!a?0:parseFloat(a),this.player.dodge=this.player.dodge+t,this.player.attack=this.player.attack+e,this.player.health=this.player.health+i,this.player.maxHealth=this.player.maxHealth+i,this.player.critical=this.player.critical+a,this.player.defense=this.player.defense+s},equipmentClose(t){const{inventory:e,equipment:i}=this.player;i[t]&&(this.playerAttribute(-i[t].dodge,-i[t].attack,-i[t].health,-i[t].critical,-i[t].defense),this.inventoryActive=t,i[t].id=Date.now(),e.push(i[t]),i[t]={},this.$store.commit("setPlayer",this.player))},equipmentInfo(t){const e=this.player.equipment[t];this.strengthenShow=!0,this.strengthenInfo=e,this.player.equipment[t].strengthen=e.strengthen?e.strengthen:0},attributePoints(t){const e={attack:"攻击",health:"气血",defense:"防御"};if(this.player.points>0){const i=this.player.reincarnation?10*this.player.reincarnation:1,a="attack"==t||"defense"==t?50*i:100*i;"attack"==t?this.playerAttribute(0,a,0,0,0):"defense"==t?this.playerAttribute(0,0,0,0,a):"health"==t&&this.playerAttribute(0,0,a,0,0),this.player.points--,this.$store.commit("setPlayer",this.player),this.$notify({title:"加点提示",message:`加点成功${e[t]}增加了${a}点`})}},calculatePercentageDifference(t,e){let i=Math.abs(t-e),a=i/t*100;return 100-a}}},A=B,E=(0,c.A)(A,S,N,!1,null,"fdfefef2",null),P=E.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Illustrations"},[e("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"装备图鉴",name:"illustrations"}},[e("div",{staticClass:"tag inventory-box"},[e("el-tabs",{attrs:{stretch:!0},model:{value:t.illustrationsActive,callback:function(e){t.illustrationsActive=e},expression:"illustrationsActive"}},t._l(t.illustrationsItems,(function(i,a){return e("el-tab-pane",{key:a,attrs:{label:i.name,name:i.type}},[e("div",{staticClass:"inventory-content"},[t._l(i.data,(function(s,n){return[s.type==i.type?e("div",{key:n,staticClass:"Illustration-item",on:{click:function(e){return t.illustrationsInfo(a,n)}}},[e("el-tag",{attrs:{type:s.quality}},[t._v(" "+t._s(s.name)+" ")])],1):t._e()]}))],2)])})),1)],1)]),e("el-tab-pane",{attrs:{label:"我的成就",name:"achievement"}},[e("el-tabs",{attrs:{stretch:!0},model:{value:t.achievementActive,callback:function(e){t.achievementActive=e},expression:"achievementActive"}},t._l(t.achievementAll,(function(i,a){return e("el-tab-pane",{key:a,attrs:{label:i.name,name:i.type}},[i.data.length>0?e("div",{staticClass:"achievement-content"},t._l(i.data,(function(a,s){return e("div",{key:s,staticClass:"achievement-item",on:{click:function(e){return t.achievementInfo(a)}}},[e("el-tag",{attrs:{type:t.getTagClass(i.type,a.id)?"success":"info"}},[t._v(" "+t._s(a.name)+" ("+t._s(t.getTagClass(i.type,a.id)?"已完成":"未完成")+") ")])],1)})),0):e("div",{staticClass:"achievement-content"},[t._v(" 此类成就暂未发布 ")])])})),1)],1)],1),e("div",{staticClass:"actions"},[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 返回家中 ")])],1)],1)},U=[];const O={drawPrize(t){const e=[{type:"weapon",data:this.equipWeapons()},{type:"armor",data:this.equipArmors()},{type:"accessory",data:this.equipAccessories()},{type:"sutra",data:this.equipSutras()}],i={info:50,success:20,primary:15,purple:9,warning:5,danger:1,pink:0},a={sutra:"法器",armor:"护甲",weapon:"兵器",accessory:"灵宝"},s=Object.keys(i),n=(t,e,i,a)=>{const s={info:1.2,success:2,primary:3,purple:5,warning:7,danger:10,pink:15},n=s[a],r=1e3*e,o=1e4*e,l=.1,c={dodge:["accessory","sutra"].includes(t)?l*n:0,attack:["weapon","accessory","sutra"].includes(t)?Math.floor(r*n):0,health:["armor","accessory","sutra"].includes(t)?Math.floor(o*n):0,defense:["armor","accessory","sutra"].includes(t)?Math.floor(r*n):0,critical:["weapon","accessory","sutra"].includes(t)?l*n:0};return c[i]};return e.map((({type:e,data:r})=>({type:e,name:a[e],data:r.flatMap(((a,r)=>a.map((a=>({name:a,type:e,level:t,prize:i[s[r]],dodge:n(e,t,"dodge",s[r]),attack:n(e,t,"attack",s[r]),health:n(e,t,"health",s[r]),defense:n(e,t,"defense",s[r]),critical:n(e,t,"critical",s[r]),quality:s[r],strengthen:20})))))})))},equipWeapons(){return[["白玉净尘剑","雪魄寒冰枪","白龙吟风弓","月华流光扇","白玉玄灵笛","霜雪无痕鞭","云隐白凰刃","净世白莲杖","冰魄寒光轮","白玉玲珑塔"],["翠玉青藤剑","碧影灵蛇鞭","绿叶风暴弓","青木长生杖","翡翠灵犀刃","藤蔓缠绕索","翠竹清风扇","生命之泉壶","绿野仙踪笛","森罗万象轮"],["寒冰破晓剑","碧海潮生笛","蓝玉冰魄弓","苍穹蓝龙枪","冰魄寒光剑","鲛人织梦扇","深海之怒戟","碧波凌霄杖","幽蓝蝶舞鞭","银河落霜刃"],["紫霄龙吟剑","幽冥紫蝶刃","星河紫电枪","紫玉寒冰弓","紫焰凤凰琴","苍穹紫雷锤","紫莲幽光扇","紫晶破晓戟","幽冥紫影鞭","紫霄凌虚杖"],["金煌剑","炽焰长枪","琥珀流光弓","龙鳞金斧","破晓黄玉锤","炎阳鞭","流光扇","战神金戟","黄芒闪电刃","日曜乾坤轮"],["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"],["粉晶月刃剑","樱花吹雪弓","蔷薇缠绕鞭","蜜桃梦境杖","粉蝶幻光刃","粉晶流光扇","甜梦水晶枪","粉樱魔法杖","粉钻心语弩","柔粉蔷薇盾"]]},equipArmors(){return[["瑶池仙绡羽衣","广寒玉兔霜甲","昆仑玉璧战袍","白龙吐珠云裳","九天玄女素绫","瑶光星辰织锦","冰魄银丝战衣","凌霄琼华宝衣","雪域神女雪绒","云隐龙鳞轻铠"],["翠竹幽兰轻衫","碧落青藤云裳","碧眼麒麟战衣","青鸾翔翼织锦","苍梧古木灵袍","绿野仙踪羽衣","灵蛇翠蔓软甲","翡翠琉璃长裙","松风竹影轻裘","春水碧于天衣"],["寒冰护甲衣","碧波守护铠","蓝玉冰心链甲","苍穹蓝灵披风","深海蛟龙鳞甲","冰魄幽光战铠","蓝蝶轻舞护腕","银河之盾胸甲","鲛人织梦护腿","碧波凌波靴"],["紫云织锦袍","幽冥紫霜甲","星河紫霞衣","紫玉冰心链甲","紫焰凤凰披风","苍穹紫雷战铠","紫莲幽光护腕","紫晶凌霄战裙","幽冥紫影护腿","紫霄逐风靴"],["金辉流光锦袍","琥珀流光战衣","黄土龙纹长袍","日炎金鳞铠甲","秋菊金缎华服","蜜蜡黄绸云裳","凤凰涅槃黄衫","黄沙漫天披风","金穗流光纱裙","辉煌金羽战袍"],["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"],["粉樱绮梦裳","甜梦粉蝶衣","蜜桃恋曲裙","粉晶流光铠","樱花恋歌袍","柔粉蔷薇甲","粉蝶翩翩袖","甜梦羽织衣","粉晶幻彩裙","蜜桃梦境袍"]]},equipAccessories(){return[["瑶池白玉簪","月华流光坠","寒霜凝露链","九天玄女玉佩","云锦织梦镯","龙涎润雪环","白鹤衔珠珮","昆仑雪莲花链","瑶台仙露耳环","银河织梦项链"],["翠竹凝露簪","碧泉幽兰链","青藤绕梦镯","翡翠灵叶耳环","灵山仙草玉佩","松柏长青戒","翠影轻舞项链","绿野仙踪手环","碧波荡漾珠链","春回大地玉珮"],["碧海珊瑚簪","冰魄幽蓝链","深海珍珠耳环","蓝田玉髓镯","苍穹蓝宝坠","鲛人泪滴珠","碧波荡漾戒","银河之心项链","蓝蝶飞舞手环","深海龙鳞珮"],["紫霄流光戒","幽冥紫蝶项链","星河紫玉耳环","紫玉冰心手链","紫焰凤凰簪","苍穹紫雷吊坠","紫莲幽光发带","紫晶破晓护符","幽冥紫影指环","紫霄凌虚玉佩"],["金辉日冕簪","琥珀流光链","黄粱一梦镯","皇天后土玉佩","蜜蜡福瑞戒","秋收万颗项链","暖阳照耀耳环","炎黄子孙玉珮","金色麦田手环","盛世繁华珠链"],["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"],["粉晶梦蝶链","樱花恋曲簪","甜梦蔷薇戒","蜜桃绮梦环","粉蝶轻舞坠","粉晶甜蜜链","柔粉心语珥","樱花绮梦镯","蜜桃梦境簪","粉蝶幻彩带"]]},equipSutras(){return[["白玉净瓶","寒霜琉璃镜","瑶池雪莲珠","九天玄冰尺","月华宝莲灯","白云隐龙笛","玉清昆仑扇","净世白莲座","银河落雪琴","碧落瑶光盘"],["翠玉葫芦","青木长生杖","碧落灵珠","幽冥鬼藤鞭","万木回春图","绿绮琴音笛","青鸾火凤羽扇","翠影追魂剑","草木皆兵符","碧泉灵泉壶"],["碧波神珠","冰魄寒玉葫","深海龙息珠","苍穹蓝灵珠","鲛人织梦灯","银河落霜瓶","蓝玉冰心镜","寒冰净世莲","碧波幽兰笛","深海龙吟佩"],["紫霄神雷珠","幽冥紫蝶翼","星河紫玉壶","紫玉冰心镜","紫焰凤凰翎","苍穹紫雷鼎","紫莲幽光轮","紫晶破晓琴","幽冥紫影幡","紫霄凌虚印"],["金蛟剪","乾坤圈","黄金玲珑塔","戊己杏黄旗","轩辕黄帝鼎","镇妖伏魔镜","落日熔金轮","万寿无疆葫芦","金翅大鹏羽扇","地黄玄玉珠"],["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"],["粉樱梦幻笛","甜心粉蝶壶","蜜桃恋语镜","粉晶流光珠","柔粉绮梦石","樱花纷飞扇","甜梦绮罗盘","蜜桃幻影灯","粉蝶织梦琴","粉樱守护符"]]}};var H=O;const j={all(){return[{name:"灵宠成就",type:"pet",data:this.pet()},{name:"探索成就",type:"monster",data:this.monster()},{name:"装备成就",type:"equipment",data:this.equipment()}]},pet(){return[{id:1,name:"气血神宠",award:1e3,condition:{dodge:0,health:22e3,attack:0,defense:0,critical:0}},{id:2,name:"攻击神宠",award:1e3,condition:{dodge:0,health:0,attack:6600,defense:0,critical:0}},{id:3,name:"防御神宠",award:1e3,condition:{dodge:0,health:0,attack:0,defense:660,critical:0}},{id:4,name:"闪避神宠",award:1e3,condition:{dodge:.44,health:0,attack:0,defense:0,critical:0}},{id:5,name:"暴击神宠",award:1e3,condition:{dodge:0,health:0,attack:0,defense:0,critical:.44}},{id:6,name:"灵宠天花板",award:1e4,condition:{dodge:.44,health:22e3,attack:6600,defense:660,critical:.44}}]},equipment(){return[]},monster(){return[]}};var z=j,W={data(){return{activeName:"illustrations",achievementAll:[],achievementActive:"pet",illustrationsItems:[],illustrationsActive:"weapon"}},mounted(){this.achievementAll=z.all(),this.illustrationsItems=H.drawPrize(this.$maxLv)},methods:{getTagClass(t,e){const i=this.$store.state.player.achievement[t]||[];return Array.isArray(i)&&i.some((t=>t.id===e))},achievementInfo(t){this.$confirm("",`${t.name}`,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>气血: ${t.condition.health}</p>\n                            <p>攻击: ${t.condition.attack}</p>\n                            <p>防御: ${t.condition.defense}</p>\n                            <p>闪避率: ${(100*t.condition.dodge).toFixed(2)}%</p>\n                            <p>暴击率: ${(100*t.condition.critical).toFixed(2)}%</p>\n                            <p>完成奖励: ${t.award}培养丹</p>\n                        </div>\n                    </div>`,confirmButtonText:"知道了",dangerouslyUseHTMLString:!0}).then((()=>{})).catch((()=>{}))},illustrationsInfo(t,e){const i=this.illustrationsItems[t].data[e];this.$confirm("",i.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>类型: ${this.$genre[i.type]}</p>\n                            <p>境界: ${this.$levelNames[i.level]}</p>\n                            <p>品质: ${this.$levels[i.quality]}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(i.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(i.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(i.defense)}</p>\n                            <p>闪避率: ${i.dodge>0?100*i.dodge>100?100:(100*i.dodge).toFixed(2):0}%</p>\n                            <p>暴击率: ${i.critical>0?100*i.critical>100?100:(100*i.critical).toFixed(2):0}%</p>\n                            <p>获得率: ${i.prize}%</p>\n                        </div>\n                    </div>`,dangerouslyUseHTMLString:!0}).catch((()=>{}))}}},J=W,G=(0,c.A)(J,L,U,!1,null,"42d3c19c",null),Q=G.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cultivate"},[t._v(" 你遇到了"),e("span",{staticClass:"el-tag el-tag--danger",on:{click:t.openMonsterInfo}},[t._v(t._s(t.monster.name))]),e("div",{staticClass:"storyText"},[e("div",{ref:"storyText",staticClass:"storyText-box"},[t.isFighting?e("p",{staticClass:"fighting"},[t._v(" "+t._s(t.guashaRounds)+"回合 / 10回合 ")]):t._e(),t._l(t.texts,(function(i,a){return e("p",{key:a,domProps:{innerHTML:t._s(i)},on:{click:function(e){return t.openEquipmentInfo(t.openEquipItemInfo)}}})}))],2)]),e("div",{staticClass:"actions"},[e("el-button",{attrs:{type:"danger",disabled:t.isEnd},on:{click:t.startFight}},[t._v(" 发起战斗 ")]),e("el-button",{attrs:{type:"pink",disabled:t.isCaptureFailed},on:{click:function(e){return t.harvestPet(t.monster)}}},[t._v(" 收服对方 ")]),e("el-button",{attrs:{type:"primary",disabled:t.isFailedRetreat},on:{click:t.runAway}},[t._v(" 立马撤退 ")]),t.isEnd?e("el-button",{attrs:{type:"warning"},on:{click:t.keepExploring}},[t._v(" 继续探索 ")]):t._e(),t.isEnd?e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 回家疗伤 ")]):t._e()],1)])},X=[];const Y={monster_Names(t){const e=["影魅狸奴","幽谷灵蛇","雾隐狐仙","松间灵猴","月影蝠妖","山涧蛟童","林涧鹿灵","岩隙石精","风鸣鹤怪","翠竹蛙仙"],i=["青龙啸天","白虎破晓","朱雀焚翼","玄武镇海","麒麟踏瑞","凤凰涅槃","毕方炽焰","貔貅吞金","白泽知世","狻猊御火"],a=["伏羲天帝","女娲圣母","昊天玉皇","太上老君","东华帝君","西王母后","神农炎帝","轩辕黄帝","瑶姬仙子","真武大帝"],s=["混沌始元尊","乾坤造物主","宇宙创生神","万灵始祖皇","鸿蒙创世者","无极造化君","太虚衍化神","元始天尊祖","虚空造物圣","界域开辟者"];return t>=1&&t<=9?e[Math.floor(Math.random()*e.length)]:t>=10&&t<=19?i[Math.floor(Math.random()*i.length)]:t>=20&&t<=29?a[Math.floor(Math.random()*a.length)]:s[Math.floor(Math.random()*a.length)]},monster_Attack(t){return t<=40?this.getRandomInt(50,150)*t:this.getRandomInt(1e4,5e4)*t},monster_Health(t){return t<=40?this.getRandomInt(100,500)*t:this.getRandomInt(1e4,5e4)*t},monster_Defense(t){return t<=40?this.getRandomInt(1,15)*t:this.getRandomInt(500,1e3)*t},monster_Criticalhitrate(t){return t<=40?this.getRandomFloatInRange(.001,.01):this.getRandomFloatInRange(.1,1)},getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},getRandomFloatInRange(t,e){return Math.random()*(e-t)+t}};var Z=Y,V={data(){return{texts:[],isEnd:!1,player:{},monster:{},victory:!1,timerIds:[],isFighting:!1,guashaRounds:10,isFailedRetreat:!1,isCaptureFailed:!1,openEquipItemInfo:{}}},beforeDestroy(){this.stopFight()},mounted(){this.player=this.$store.state.player,this.encounterMonster()},methods:{openMonsterInfo(){const t=this.calculateCaptureRate(),e=.5*(100-t);this.$alert("",this.monster.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>境界: ${0==this.player.level?this.$levelNames[this.player.level+1]:this.$levelNames[this.player.level]}</p>\n                            <p>根骨: ${Math.floor(e)}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(this.monster.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(this.monster.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(this.monster.defense)}</p>\n                            <p>闪避率: ${this.monster.dodge>0?100*this.monster.dodge>100?100:(100*this.monster.dodge).toFixed(2):0}%</p>\n                            <p>暴击率: ${this.monster.critical>0?100*this.monster.critical>100?100:(100*this.monster.critical).toFixed(2):0}%</p>\n                            <p>收服率: ${t}%</p>\n                        </div>\n                    </div>`,confirmButtonText:"知道了",dangerouslyUseHTMLString:!0}).catch((()=>{}))},startFight(){if(this.isEnd)return;this.isEnd=!0;const t=setInterval((()=>{this.fightMonster();const t=this.$refs.storyText;t.scrollTo(0,t.scrollHeight)}),300);this.timerIds.push(t)},stopFight(){this.timerIds.forEach((t=>{clearInterval(t)})),this.isEnd=!0,this.timerIds=[],this.isFailedRetreat=!0,this.isCaptureFailed=!0},fightMonster(){if(this.isFighting=!0,this.monster.health<=0)return;const t=this.monster.attack,e=this.player.defense;let i=Math.max(0,Math.floor(t-e));i=i<=1?1:i;const a=this.player.attack,s=this.monster.defense;let n=Math.max(0,Math.floor(a-s));n=n<=1?1:n;let r=!1,o=!1;const l=Math.random()>this.player.dodge,c=Math.random()>this.monster.dodge;if(Math.random()<this.monster.critical&&(i*=2,r=!0),Math.random()<this.player.critical&&(n*=1.5,o=!0),l&&(this.player.health-=i),c&&(this.monster.health-=n),this.player.health=Math.max(0,this.player.health),this.monster.health=Math.max(0,this.monster.health),this.guashaRounds>1)if(this.guashaRounds--,this.monster.health<=0){this.player.taskNum++;const t=this.player.reincarnation?1+1*this.player.reincarnation:1;this.player.cultivateDan+=t,this.texts=[...this.texts,`击败${this.monster.name}后你获得了${t}颗培养丹`],this.findTreasure(this.monster.name),this.stopFight()}else this.player.health<=0?(this.texts=[...this.texts,"你因为太弱被击败了。"],this.stopFight()):(this.texts=[...this.texts,c?`你攻击了${this.monster.name}，${o?"触发暴击":""}造成了${n}点伤害，剩余${this.monster.health}气血。`:`你攻击了${this.monster.name}，对方闪避了你的攻击，你未造成伤害，剩余${this.monster.health}气血。`],this.texts=[...this.texts,l?`${this.monster.name}攻击了你，${r?"触发暴击":""}造成了${i}点伤害`:`${this.monster.name}攻击了你，你闪避了对方的攻击，对方未造成伤害。`]);else this.guashaRounds=10,this.texts=[...this.texts,`回合结束, 你未战胜${this.monster.name}你输了。`],this.stopFight();this.$store.commit("setPlayer",this.player)},runAway(){this.guashaRounds--,R.getRandomInt(0,1)?(this.isFailedRetreat=!0,this.texts=[...this.texts,"撤退失败，继续战斗。"]):(this.guashaRounds=10,this.$router.push("/"),this.$notify({title:"提示",message:"你选择了撤退，安全返回了修炼地点。"}))},findTreasure(){const t=R.getRandomInt(1,4);let e={},i=Math.floor(this.player.maxCultivation/100);if(i=i||1,1==t?e=R.equip_Weapons(this.player.level):2==t?e=R.equip_Armors(this.player.level):3==t?e=R.equip_Accessorys(this.player.level):4==t&&(e=R.equip_Sutras(this.player.level)),e?.name&&this.player.inventory.push(e),this.victory=!0,this.openEquipItemInfo=e,this.texts=[...this.texts,`你击败${this.monster.name}后，发现了一个宝箱，打开后获得了<span class="el-tag el-tag--${e.quality}">${this.$levels[e.quality]}${e.name}(${this.$genre[e.type]})</span>`],this.player.level<this.$maxLv)if(this.player.level<this.$maxLv)if(this.player.cultivation>=this.player.maxCultivation){if(this.player.level>10&&this.player.level>this.player.taskNum)return void(this.texts=[...this.texts,`当前境界修为已满, 你需要通过击败<span style="color: #f56c6c;">(${this.player.taskNum} / ${this.player.level})</span>个敌人证道突破`]);this.player.taskNum=0,this.player.level++,this.player.points+=3,this.player.health=this.player.maxHealth,this.player.maxCultivation=Math.floor(100*Math.pow(2,this.player.level)),this.texts=[...this.texts,`恭喜你突破了！当前境界：${this.$levelNames[this.player.level]}`]}else this.player.cultivation+=i;else this.isStop=!1,this.isStart=!1,this.player.level=this.$maxLv,this.player.maxCultivation=Math.floor(100*Math.pow(2,this.$maxLv)),this.texts=[...this.texts,"你当前的境界已修炼圆满, 需要转生后才能继续修炼"];this.$store.commit("setPlayer",this.player)},openEquipmentInfo(t){this.victory&&this.$confirm("",t.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>类型: ${this.$genre[t.type]??"未知"}</p>\n                            <p>境界: ${this.$levelNames[t.level]}</p>\n                            <p>品质: ${this.$levels[t.quality]??"未知"}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(t.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(t.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(t.defense)}</p>\n                            <p>闪避率: ${(100*t.dodge).toFixed(2)??0}%</p>\n                            <p>暴击率: ${(100*t.critical).toFixed(2)??0}%</p>\n                        </div>\n                    </div>`,dangerouslyUseHTMLString:!0}).catch((()=>{}))},keepExploring(){this.texts=[],this.guashaRounds=10,this.encounterMonster(),this.isEnd=!1,this.isFighting=!1,this.isFailedRetreat=!1,this.isCaptureFailed=!1},encounterMonster(){let t=0==this.player.level?1:this.player.level;const e=t*this.player.reincarnation+t;this.monster={name:Z.monster_Names(e),health:Z.monster_Health(e),attack:Z.monster_Attack(e),defense:Z.monster_Defense(e),dodge:Z.monster_Criticalhitrate(e),critical:Z.monster_Criticalhitrate(e)}},harvestPet(t){this.isCaptureFailed=!0;const e=this.calculateCaptureRate(),i=e>=Z.getRandomInt(1,100);if(i){const i=.5*(100-e),a=Math.floor(Z.getRandomInt(50,150)*i),s=Math.floor(Z.getRandomInt(1,15)*i),n=Math.floor(Z.getRandomInt(100,500)*i),r=parseFloat(Z.getRandomFloatInRange(.001,.01)*i),o=parseFloat(Z.getRandomFloatInRange(.001,.01)*i);this.player.pets.push({id:Date.now(),name:t.name,level:1,dodge:r,health:n,attack:a,defense:s,critical:o,initial:{dodge:r,health:n,attack:a,defense:s,critical:o},rootBone:Math.floor(i),reincarnation:0});const l=this.player.achievement.pet,c=t=>{const e=t.condition;return(0===e.health||e.health<=n)&&(0===e.attack||e.attack<=a)&&(0===e.defense||e.defense<=s)&&(0===e.dodge||e.dodge<=r.toFixed(2))&&(0===e.critical||e.critical<=o.toFixed(2))};z.pet().forEach((t=>{c(t)&&!l.find((e=>e.id===t.id))&&(this.player.achievement.pet.push({id:t.id}),this.player.cultivateDan+=t.award,this.notify({title:"获得成就提示",message:`恭喜你完成了${t.name}成就`}))})),this.guashaRounds=10,this.$notify({title:"收服灵宠提示",message:`收服${t.name}成功`}),this.$store.commit("setPlayer",this.player),this.stopFight()}else this.isCaptureFailed=!0,this.texts=[...this.texts,`收服${t.name}失败`]},calculateCaptureRate(){const t=100,e=.95;let i=t*Math.pow(e,this.player.level);return i=Math.floor(Math.max(0,Math.min(100,i))),i}}},tt=V,et=(0,c.A)(tt,K,X,!1,null,"0bab5d76",null),it=et.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cultivate"},[e("div",{staticClass:"storyText"},[e("div",{ref:"storyText",staticClass:"storyText-box"},t._l(t.texts,(function(i,a){return e("p",{key:a,domProps:{innerHTML:t._s(i)}})})),0)]),e("div",{staticClass:"actions"},[e("el-button",{on:{click:function(e){return t.$router.push("/")}}},[t._v(" 返回家里 ")]),e("el-button",{attrs:{type:"success",disabled:!t.isStart},on:{click:t.startCultivate}},[t._v(" 开始修炼 ")]),e("el-button",{attrs:{type:"primary",disabled:!t.isStop},on:{click:t.stopCultivate}},[t._v(" 停止修炼 ")]),e("el-button",{attrs:{type:"danger"},on:{click:t.reincarnationBreakthrough}},[t._v(" 转生突破 ")])],1)])},st=[],nt={data(){return{texts:[],player:{},isStop:!1,isStart:!1,timerIds:[]}},beforeDestroy(){this.stopCultivate()},mounted(){this.player=this.$store.state.player,this.startCultivate()},methods:{startCultivate(){this.isStart=!1;const t=setInterval((()=>{if(this.player.cultivation<=this.player.maxCultivation){this.isStop=!0,this.isStart=!1;const t=this.player.level<=10?Math.floor(this.player.maxCultivation/R.getRandomInt(10,30)):Math.floor(this.player.maxCultivation/100);this.breakThrough(t),this.texts=[...this.texts,"你开始冥想，吸收周围的灵气。修为提升了！"]}else this.breakThrough(100);const t=this.$refs.storyText;t.scrollTo(0,t.scrollHeight)}),300);this.timerIds.push(t)},stopCultivate(){this.timerIds.forEach((t=>{clearInterval(t)})),this.timerIds=[],this.isStart=!0,this.isStop=!1},breakThrough(t){if(this.player.level<this.$maxLv)if(this.player.cultivation>=this.player.maxCultivation){if(this.player.level>10&&this.player.level>this.player.taskNum)return this.isStop=!1,this.isStart=!1,this.texts=[...this.texts,`当前境界修为已满, 你需要通过击败<span style="color: #f56c6c;">(${this.player.taskNum} / ${this.player.level})</span>个敌人证道突破`],void this.stopCultivate();this.player.taskNum=0,this.player.level++,this.player.points+=3,this.player.health=this.player.maxHealth,this.player.maxCultivation=Math.floor(100*Math.pow(2,this.player.level)),this.texts=[...this.texts,`恭喜你突破了！当前境界：${this.$levelNames[this.player.level]}`]}else this.player.cultivation+=t;else this.isStop=!1,this.isStart=!1,this.player.level=this.$maxLv,this.player.maxCultivation=Math.floor(100*Math.pow(2,this.$maxLv)),this.texts=[...this.texts,"你当前的境界已修炼圆满, 需要转生后才能继续修炼"],this.stopCultivate();this.$store.commit("setPlayer",this.player)},reincarnationBreakthrough(){let t=this.player.reincarnation;if(t=0==t?100:100*t,this.player.level==this.$maxLv){if(this.player.points)return void this.$notify({title:"未满足转生条件",message:`当前还有${this.player.points}境界点未使用, 无法转生`});this.player.taskNum>=t?this.$confirm("转生之后的敌人属性是转生前的百倍<br>转生前请务必确认自己的实力是否足够战胜转生后的对手, 避免导致卡档","转生提醒",{center:!0,cancelButtonText:"再发育发育",confirmButtonText:"知道了, 我会对我的操作负责",dangerouslyUseHTMLString:!0}).then((()=>{this.player.level=0,this.player.cultivation=0,this.player.maxCultivation=100,this.player.taskNum=0,this.player.reincarnation++,this.$notify({title:"转生提示",message:`转生成功, 当前为${this.player.reincarnation}转`,dangerouslyUseHTMLString:!0}),this.$store.commit("setPlayer",this.player)})).catch((()=>{})):this.$notify({title:"未满足转生条件",message:`需要通过击败<span style="color: #f56c6c;">(${this.player.taskNum} / ${t})</span>个敌人证道转生`,dangerouslyUseHTMLString:!0})}else this.$notify({title:"未满足转生条件",message:`境界需要达到<span style="color: #f56c6c;">${this.$levelNames[this.$maxLv]}</span>才能满足转生条件`,dangerouslyUseHTMLString:!0})}}},rt=nt,ot=(0,c.A)(rt,at,st,!1,null,"334d5e06",null),lt=ot.exports;let ct=u.Ay.prototype.push,pt=u.Ay.prototype.replace;u.Ay.prototype.push=function(t){return ct.call(this,t).catch((t=>t))},u.Ay.prototype.replace=function(t){return pt.call(this,t).catch((t=>t))};const ht=[{path:"/",name:"index",meta:{keepAlive:!0},component:P},{path:"/cultivate",name:"cultivate",meta:{keepAlive:!0},component:lt},{path:"/explore",name:"explore",meta:{keepAlive:!0},component:it},{path:"/boss",name:"boss",meta:{keepAlive:!0},component:M},{path:"/equipAll",name:"equipAll",meta:{keepAlive:!0},component:Q}],ut=new u.Ay({routes:ht});var yt=ut,dt=i(6070),mt=i.n(dt);a["default"].use(s.Ay).use(u.Ay).use(d()).use(mt()),a["default"].prototype.$notify=t=>{y.Notification.closeAll(),(0,y.Notification)(t)},a["default"].config.productionTip=!1,a["default"].prototype.$maxLv=40,a["default"].prototype.$levelNames=["凡人","筑基","开光","胎息","辟谷","金丹","元婴","出窍","分神","合体","大乘","渡劫","地仙","天仙","金仙","大罗金仙","九天玄仙","仙君","仙帝","仙尊","仙祖","圣仙","至仙","无上仙","道仙","鸿蒙仙","混沌仙","天尊","始祖天尊","无上天尊","大道天尊","永恒仙尊","宇宙仙祖","虚空道祖","超脱者","至高神","创世神","纪元之主","无上主宰","鸿蒙主宰","混沌主宰"],a["default"].prototype.$genre={sutra:"法器",armor:"护甲",weapon:"神兵",accessory:"灵宝"},a["default"].prototype.$levels={info:"黄阶",pink:"仙阶",danger:"神阶",purple:"天阶",primary:"地阶",success:"玄阶",warning:"帝阶"},a["default"].prototype.$formatNumberToChineseUnit=t=>{const e=["","万","亿","兆","京","垓","秭","穰","沟","涧","正","载","极"],i=window.BigInt(1e4);let a=window.BigInt(t),s=0,n="";while(a>=i)a/=i,s++,s>=e.length-1&&(n+="极",s=0);let r=a.toString()+e[s]+n;return r},new a["default"]({store:_,router:yt,render:t=>t(h)}).$mount("#app")},3936:function(){}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=t,function(){i.amdO={}}(),function(){var t=[];i.O=function(e,a,s,n){if(!a){var r=1/0;for(p=0;p<t.length;p++){a=t[p][0],s=t[p][1],n=t[p][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(p--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var p=t.length;p>0&&t[p-1][2]>n;p--)t[p]=t[p-1];t[p]=[a,s,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(l)var p=l(i)}for(e&&e(a);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(p)},a=self["webpackChunkxiuxian_game"]=self["webpackChunkxiuxian_game"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],(function(){return i(9142)}));a=i.O(a)})();