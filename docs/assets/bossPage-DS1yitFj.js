/* empty css                  *//* empty css                     */import{_ as s,c as t,a as e,t as i,b as a,w as o,G as n,C as h,E as r,o as l,l as c,F as d,m,e as p}from"./index-C3HF_ROH.js";const u={drawPrize(s){const t=this.boss_Names(),e=this.getRandomInt(5e4,1e5)*s,i=this.getRandomInt(5e3,1e4)*s,a=this.getRandomInt(1e3,1e4)*s,o=this.getRandomFloatInRange(.1,.8),n=this.getRandomFloatInRange(.1,1);return{name:t.name,text:this.boss_Text(),time:Math.floor(Date.now()/1e3),desc:t.description,level:144,dodge:o,attack:i,health:e,defense:a,conquer:!1,critical:n,maxhealth:e}},boss_Equip(s){const t={weapon:{names:["赤焰凤凰剑","血玉红莲枪","烈焰焚天弓","赤霄神火戟","火舞流云扇","朱雀炎翼鞭","赤龙焚世刃","炎狱魔瞳镰","炽血星辰杖","红莲业火轮"],probability:25},armor:{names:["烈焰红莲战甲","赤霄火凤云裳","朱雀焚天织锦","赤焰龙鳞宝衣","血色蔷薇华服","丹霞流光长袍","炎阳炽烈战袍","炽火红莲披风","火舞凤凰羽衣","红莲业火锦衣"],probability:25},accessory:{names:["赤焰凤凰翎","血珀琉璃坠","烈焰红宝石链","朱雀之翼耳环","红莲业火镯","丹霄火凤戒","玛瑙赤焰项链","炽天使之泪珮","绯红织锦手环","火凤涅槃珠链"],probability:25},sutra:{names:["炽焰灵珠阵图","火凤涅槃炉鼎","红莲业火净世碑","血玉轮回盘","朱雀翔天翼","烈焰焚天炉","丹霄火域图","赤龙炼魂珠","火灵炽心镜","九转炎灵祭坛"],probability:25}},e=Object.values(t).reduce(((s,{probability:t})=>s+t),0),i=Math.floor(Math.random()*e);let a=0;for(const[o,{names:n,probability:h}]of Object.entries(t))if(a+=h,i<a){const t=this.getRandomFloatInRange(.05,.1),e=this.getRandomInt(500,1e3)*s*10,i=this.getRandomInt(5e3,1e4)*s*10,a=this.getRandomInt(500,1e3)*s*10,h=this.getRandomFloatInRange(.05,.1);return{id:Date.now(),name:n[Math.floor(Math.random()*n.length)],type:o,level:s,score:this.calculateEquipmentScore(t,e,i,h,a),dodge:["accessory","sutra"].includes(o)?t:0,attack:["weapon","accessory","sutra"].includes(o)?e:0,health:["armor","accessory","sutra"].includes(o)?i:0,quality:"danger",initial:{dodge:["accessory","sutra"].includes(o)?t:0,attack:["weapon","accessory","sutra"].includes(o)?e:0,health:["armor","accessory","sutra"].includes(o)?i:0,defense:["accessory","sutra"].includes(o)?a:0,critical:["weapon","accessory","sutra"].includes(o)?h:0},defense:["accessory","sutra"].includes(o)?a:0,critical:["weapon","accessory","sutra"].includes(o)?h:0}}},boss_Text(){const s=["你的时代已经结束，现在，是我主宰一切的时候了。","你的努力，终究只是为我铺就了通往胜利的道路。","战胜你，对我来说不过是举手之劳，你的实力，不过如此。","你的生命，在我的手中如蝼蚁般脆弱，你的死亡，只是我计划中的一环。","你的失败，证明了我的智慧与力量无可匹敌，而你，只是我的垫脚石。","你的存在，曾让我感到一丝威胁，但现在，你已成为我脚下的尘埃。","你的勇气可嘉，但可惜，勇气并不能改变结果，你最终还是败在了我的脚下。","你的死，将是我传奇中的一笔，而你，将永远被我踩在脚下。","你的挣扎与反抗，不过是徒劳无功，你的命运，早已注定。","你的终结，是我迈向更高峰的开始，你的存在，对我来说已无任何意义。","你的死亡，将证明我的强大与不可战胜，而你，将永远成为我的手下败将。","你的遗言，对我来说毫无意义，因为你已经无法再影响我的计划。","你的逝去，只是宇宙间的一次微小波动，而我，将继续书写我的传奇。","你的失败，是我成功路上的一个注脚，而你，将永远无法摆脱这个污点。","你的生命之火已经熄灭，而我，将继续燃烧，照亮整个世界。","你的死亡，让我更加坚信自己的道路是正确的，而你，只是我路上的一个过客。","你的存在，曾让我有过一丝犹豫，但现在，我已经没有任何顾虑，因为我已经彻底战胜了你。","你的终结，是我力量的证明，而你，将永远无法逃脱这个宿命。","你的死亡，将是我成就伟大事业的基石，而你，将永远被世人遗忘。","你的挑战，虽然激烈，但终究无法撼动我的地位，你的死亡，只是我辉煌人生中的一个注脚。"];return s[Math.floor(Math.random()*s.length)]},boss_Names(){const s=[{name:"烛龙神尊",description:"乃钟山之神，睁眼为昼，闭眼为夜，呼吸间风云变幻，掌控着时间的流转。"},{name:"幽冥鬼帝",description:"传说中幽冥界的至高统治者，掌管生死轮回，其力量深不可测，能召唤万千亡灵为其所用。"},{name:"苍穹魔尊",description:"诞生于九天之上，因贪恋凡间情感而堕入魔道，拥有操控天地元素、撕裂虚空的能力。"},{name:"龙皇傲天",description:"龙族中的至尊，身披璀璨龙鳞，掌握着古老龙族的所有秘辛与力量，其威严令万兽臣服。"},{name:"凤舞九天",description:"凤凰一族的女王，拥有不死之身与涅槃重生的能力，其羽翼轻挥，即可掀起滔天火焰，焚尽一切。"},{name:"雷神天尊",description:"天界雷神转世，手持雷神锤，能召唤九天神雷，一击之下，山河破碎，万物寂灭。"},{name:"幽冥血皇",description:"幽冥界中的古老存在，以鲜血为食，其力量源自于无尽的杀戮与怨念，令人闻风丧胆。"},{name:"玄冰龙神",description:"来自极北之地的神秘生物，融合了龙与冰元素的力量，其身躯坚不可摧，能冻结世间万物。"},{name:"金翅大鹏王",description:"大鹏一族中的王者，拥有遮天蔽日的双翼，速度之快，可瞬息万里，其利爪足以撕裂空间。"},{name:"混沌魔君",description:"诞生于混沌之初的古老魔物，其力量源自于宇宙的本源，能够扭曲现实，吞噬万物，是天地间最可怕的存在之一。"}];return s[Math.floor(Math.random()*s.length)]},getRandomInt:(s,t)=>(s=Math.ceil(s),t=Math.floor(t),Math.floor(Math.random()*(t-s+1))+s),getRandomFloatInRange:(s,t)=>Math.random()*(t-s)+s,calculateEquipmentScore(s=0,t=0,e=0,i=0,a=0){const o=s*1.6+t*1.5+e/100*1+a*1.2+i*1.8;return Math.floor(o)}},b={class:"cultivate"},g={class:"boss"},f={class:"boss-box"},$={class:"storyText"},y={class:"storyText-box"},x={key:0,class:"fighting"},v=["innerHTML"],M={class:"actions"};const I=s({data:()=>({boss:{},isEnd:!1,texts:[],player:{},timerIds:[],currency:0,isFighting:!1,startFight:!1,isequipment:!1,guashaRounds:50,equipmentInfo:{}}),mounted(){this.boss=this.$store.state.boss,this.player=this.$store.state.player,this.currency=u.getRandomInt(1,10),this.assaultBoss()},beforeDestroy(){this.stopFightBoss()},methods:{startFightBoss(){if(this.isEnd)return;this.isEnd=!0;const s=10*player.reincarnation,t=setInterval((()=>{this.fightBoss();const s=this.$refs.scrollbar.wrapRef;new MutationObserver((()=>{this.$smoothScrollToBottom(s)})).observe(s,{childList:!0,subtree:!0})}),s>=200?100:300-s);this.timerIds.push(t)},stopFightBoss(){this.timerIds.forEach((s=>{clearInterval(s)})),this.timerIds=[]},openBossInfo(){const s=this.boss;this.$confirm("",s.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>境界: ${this.$levelNames(s.level)}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(s.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(s.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(s.defense)}</p>\n                            <p>闪避率: ${s.dodge>0?100*s.dodge>100?100:(100*s.dodge).toFixed(2):0}%</p>\n                            <p>暴击率: ${s.critical>0?100*s.critical>100?100:(100*s.critical).toFixed(2):0}%</p>\n                            <p>鸿蒙石掉落: ${this.currency}颗</p>\n                            <p>神装掉落率: 100%</p>\n                        </div>\n                    </div>`,dangerouslyUseHTMLString:!0}).catch((()=>{}))},fightBoss(){if(this.player.level<this.$maxLv)return this.isEnd=!0,this.stopFightBoss(),void(this.texts=[...this.texts,`你的境界尚未达到${this.$levelNames(this.$maxLv)}, ${this.boss.name}对于你的挑战不屑一顾`]);if(this.boss.health<=0||!this.boss.health)return void(this.texts=[...this.texts,"BOSS刷新时间还未到"]);this.isFighting=!0;const s=this.boss.attack,t=this.player.defense;let e=Math.max(0,Math.floor(s-t));e=e<=1?1:e;const i=this.player.attack,a=this.boss.defense;let o=Math.max(0,Math.floor(i-a));o=o<=1?1:o;let n=!1,h=!1;const r=Math.random()>this.boss.dodge,l=Math.random()>this.player.dodge;if(Math.random()<this.boss.critical&&(e*=2,n=!0),Math.random()<this.player.critical&&(o*=1.5,h=!0),l&&(this.player.health-=e),r&&(this.boss.health-=o),this.player.health=Math.max(0,this.player.health),this.boss.health=Math.max(0,this.boss.health),this.guashaRounds>1)if(this.guashaRounds--,this.boss.health<=0){const s=u.boss_Equip(this.$maxLv);this.isequipment=!0,this.equipmentInfo=s,this.texts=[...this.texts,`你击败${this.boss.name}后，获得了<span class="el-tag el-tag--${s.quality}">${this.$levels[s.quality]}${s.name}(${this.$genre[s.type]})</span>`],this.player.inventory.length>=this.player.backpackCapacity?this.texts=[...this.texts,"当前装备背包容量已满, 该装备自动丢弃, 转生可增加背包容量"]:this.player.inventory.push(s),this.player.props.rootBone+=1,this.texts=[...this.texts,"你获得了1颗悟性丹"],this.player.props.currency+=this.currency,this.texts=[...this.texts,`你获得了${this.currency}块鸿蒙石`],this.isEnd=!0,this.boss.time=Math.floor(Date.now()/1e3),this.boss.health=0,this.boss.conquer=!0,this.stopFightBoss(),this.$store.commit("setBoss",this.boss)}else this.player.health<=0?(this.isEnd=!0,this.boss.health=this.boss.maxhealth,this.texts=[...this.texts,"你因为太弱被击败了。"],this.texts=[...this.texts,`${this.boss.text}`],this.stopFightBoss(),this.guashaRounds=50):(this.texts=[...this.texts,r?`你攻击了${this.boss.name}，${h?"触发暴击":""}造成了${o}点伤害，剩余${this.boss.health}气血。`:`你攻击了${this.boss.name}，对方闪避了你的攻击，你未造成伤害，剩余${this.boss.health}气血。 `],this.texts=[...this.texts,l?`${this.boss.name}攻击了你，${n?"触发暴击":""}造成了${e}点伤害`:`${this.boss.name}攻击了你，你闪避了对方的攻击，对方未造成伤害，你剩余${this.player.health}气血。 `]);else this.guashaRounds=50,this.stopFightBoss(),this.boss.health=this.boss.maxhealth,this.texts=[...this.texts,`回合结束, 你未战胜${this.boss.name}你输了。`],this.texts=[...this.texts,`${this.boss.text}`];this.$store.commit("setPlayer",this.player)},openEquipmentInfo(s){this.isequipment&&this.$confirm("",s.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>类型: ${this.$genre[s.type]??"未知"}</p>\n                            <p>境界: ${this.$levelNames(s.level)}</p>\n                            <p>品质: ${this.$levels[s.quality]??"未知"}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(s.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(s.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(s.defense)}</p>\n                            <p>闪避率: ${(100*s.dodge).toFixed(2)??0}%</p>\n                            <p>暴击率: ${(100*s.critical).toFixed(2)??0}%</p>\n                        </div>\n                    </div>`,showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,dangerouslyUseHTMLString:!0}).then((()=>{this.$router.push("/home")})).catch((()=>{this.$router.push("/home")}))},assaultBoss(){const s=this.getMinuteDifference(this.boss.time),t=this.$maxLv*this.player.reincarnation+this.$maxLv;if(this.boss.health>0)s>=5&&(this.boss=u.drawPrize(t),this.$store.commit("setBoss",this.boss));else{if(!(s>=5||0==this.boss.time))return this.isEnd=!0,void(this.texts=[...this.texts,"BOSS还未刷新，请等待5分钟后再次挑战"]);this.boss=u.drawPrize(t),this.$store.commit("setBoss",this.boss)}this.guashaRounds=50},getMinuteDifference(s){const t=Math.floor(Date.now()/1e3);s=0==s?t:s;const e=Math.abs(t-s);return Math.floor(e/60)}}},[["render",function(s,u,I,R,B,F){const q=n,w=h,k=r;return l(),t("div",b,[e("div",g,[e("div",f,[e("span",{class:"el-tag el-tag--warning",onClick:u[0]||(u[0]=(...s)=>F.openBossInfo&&F.openBossInfo(...s))},i(B.boss.name),1),a(q,{class:"desc",title:B.boss.desc,closable:!1,type:"error"},null,8,["title"])])]),e("div",$,[e("div",y,[a(w,{ref:"scrollbar",always:""},{default:o((()=>[B.isFighting?(l(),t("p",x,i(B.guashaRounds)+"回合 / 50回合 ",1)):c("",!0),(l(!0),t(d,null,m(B.texts,((s,e)=>(l(),t("p",{key:e,innerHTML:s,onClick:u[1]||(u[1]=s=>F.openEquipmentInfo(B.equipmentInfo))},null,8,v)))),128))])),_:1},512)])]),e("div",M,[a(k,{onClick:F.startFightBoss,disabled:B.isEnd},{default:o((()=>u[3]||(u[3]=[p(" 发起战斗 ")]))),_:1},8,["onClick","disabled"]),a(k,{onClick:u[2]||(u[2]=t=>s.$router.push("/home"))},{default:o((()=>u[4]||(u[4]=[p(" 回家疗伤 ")]))),_:1})])])}],["__scopeId","data-v-963c3530"]]);export{I as default};
