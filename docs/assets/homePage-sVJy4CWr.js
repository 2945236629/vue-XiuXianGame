/* empty css                  *//* empty css                         *//* empty css                   *//* empty css                  *//* empty css                    *//* empty css                     */import{_ as e}from"./tag-DvVL0lgb.js";import{e as t}from"./equip-eJVsYbcZ.js";import{i as l,_ as n,j as i,r as a,c as o,a as s,e as r,t as p,b as c,w as u,k as d,l as y,F as h,m as f,n as v,p as m,E as g,q as b,d as k,o as I,s as $,u as w,v as q,x as C,y as x,z as D,f as S,h as N,g as _,A as T,B as U}from"./index-C3HF_ROH.js";const A={drawPrize(e){const t=[{type:"weapon",data:this.equipWeapons()},{type:"armor",data:this.equipArmors()},{type:"accessory",data:this.equipAccessories()},{type:"sutra",data:this.equipSutras()}],l={sutra:"法器",armor:"护甲",weapon:"兵器",accessory:"灵宝"},n=(e,t,l)=>{const n=this.getRandomFloatInRange(.02,.25),i=this.getRandomInt(200,1e3)*t,a=this.getRandomInt(2e3,1e4)*t,o=this.getRandomInt(200,1e3)*t,s=this.getRandomFloatInRange(.02,.25);return{score:this.calculateEquipmentScore(n,i,a,s,o),dodge:["accessory","sutra"].includes(e)?n:0,attack:["weapon","accessory","sutra"].includes(e)?15*i:0,health:["armor","accessory","sutra"].includes(e)?15*a:0,defense:["armor","accessory","sutra"].includes(e)?15*o:0,critical:["weapon","accessory","sutra"].includes(e)?s:0}[l]};return t.map((({type:t,data:i})=>({type:t,name:l[t],data:i.flatMap((l=>({id:Date.now(),name:l,type:t,lock:!0,level:e,score:n(t,e,"score"),dodge:n(t,e,"dodge"),attack:n(t,e,"attack"),health:n(t,e,"health"),defense:n(t,e,"defense"),critical:n(t,e,"critical"),initial:{dodge:n(t,e,"dodge"),attack:n(t,e,"attack"),health:n(t,e,"health"),defense:n(t,e,"defense"),critical:n(t,e,"critical")},quality:"pink"})))})))},equipWeapons:()=>["粉晶月刃剑","樱花吹雪弓","蔷薇缠绕鞭","蜜桃梦境杖","粉蝶幻光刃","粉晶流光扇","甜梦水晶枪","粉樱魔法杖","粉钻心语弩","柔粉蔷薇盾"],equipArmors:()=>["粉樱绮梦裳","甜梦粉蝶衣","蜜桃恋曲裙","粉晶流光铠","樱花恋歌袍","柔粉蔷薇甲","粉蝶翩翩袖","甜梦羽织衣","粉晶幻彩裙","蜜桃梦境袍"],equipAccessories:()=>["粉晶梦蝶链","樱花恋曲簪","甜梦蔷薇戒","蜜桃绮梦环","粉蝶轻舞坠","粉晶甜蜜链","柔粉心语珥","樱花绮梦镯","蜜桃梦境簪","粉蝶幻彩带"],equipSutras:()=>["粉樱梦幻笛","甜心粉蝶壶","蜜桃恋语镜","粉晶流光珠","柔粉绮梦石","樱花纷飞扇","甜梦绮罗盘","蜜桃幻影灯","粉蝶织梦琴","粉樱守护符"],getRandomInt:(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),getRandomFloatInRange:(e,t)=>Math.random()*(t-e)+e,calculateEquipmentScore(e=0,t=0,l=0,n=0,i=0){const a=e*1.6+t*1.5+l/100*1+i*1.2+n*1.8;return Math.floor(a)}};var B,V={exports:{}};B=V,function(){function e(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function t(e,t,l){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,l)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(l){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(l){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof l&&l.global===l?l:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,l,o){var s=a.URL||a.webkitURL,r=document.createElement("a");l=l||e.name||"download",r.download=l,r.rel="noopener","string"==typeof e?(r.href=e,r.origin===location.origin?i(r):n(r.href)?t(e,l,o):i(r,r.target="_blank")):(r.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(r.href)}),4e4),setTimeout((function(){i(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(l,a,o){if(a=a||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(e(l,o),a);else if(n(l))t(l,a,o);else{var s=document.createElement("a");s.href=l,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,l,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,l,n);var s="application/octet-stream"===e.type,r=/constructor/i.test(a.HTMLElement)||a.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||s&&r||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=p?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,d=u.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});a.saveAs=s.saveAs=s,B.exports=s}();var P=V.exports;const R={class:"index"},M={class:"index-box"},E={class:"story"},L=["innerHTML"],j={class:"attributes"},F={class:"attribute-box"},O={key:0,class:"tag attribute"},H={class:"tag attribute"},J={class:"tag attribute"},W={class:"tag attribute"},z={class:"tag attribute"},G={class:"tag attribute"},Q={class:"tag attribute"},X={class:"equip-box"},K={class:"tag equip-item"},Y={class:"equip"},Z={key:1},ee={class:"equip"},te={key:1},le={class:"tag equip-item"},ne={class:"equip"},ie={key:1},ae={class:"equip"},oe={key:1},se={class:"tag equip-item"},re={class:"equip"},pe={key:1},ce={class:"equip"},ue={key:1},de={class:"tag inventory-box"},ye={class:"el-dropdown-link"},he={class:"inventory-content"},fe={key:0},ve={class:"inventory-content"},me={class:"el-dropdown-link"},ge={class:"inventory-content"},be={class:"inventory-content"},ke={class:"el-dropdown"},Ie={class:"inventory-content"},$e={class:"actions"},we={class:"action"},qe={class:"strengthen-box"},Ce={class:"attributes"},xe={class:"attribute-box"},De={class:"tag attribute"},Se={class:"tag attribute"},Ne={class:"tag attribute"},_e={class:"tag attribute"},Te={class:"tag attribute"},Ue={class:"click-box"},Ae={class:"strengthen-box"},Be={class:"attributes"},Ve={class:"attribute-box"},Pe={class:"tag attribute"},Re={class:"tag attribute"},Me={class:"tag attribute"},Ee={class:"tag attribute"},Le={class:"tag attribute"},je={class:"tag attribute"},Fe={class:"tag attribute"},Oe={class:"tag attribute"},He={class:"click-box"},Je={key:0,class:"strengthen-box"},We={class:"attributes"},ze={class:"attribute-box"},Ge={class:"tag attribute"},Qe={class:"tag attribute"},Xe={class:"tag attribute"},Ke={class:"tag attribute"},Ye={class:"tag attribute"},Ze={class:"tag attribute"},et={class:"tag attribute"},tt={class:"click-box"},lt={class:"monsterinfo"},nt={class:"monsterinfo-box"},it={class:"description"},at={class:"icon"},ot={class:"value"},st={class:"description"},rt={class:"icon"},pt={class:"value"},ct={class:"description"},ut={class:"icon"},dt={class:"value"},yt={class:"description"},ht={class:"icon"},ft={class:"value"},vt={class:"description"},mt={class:"icon"},gt={class:"value"},bt={class:"description"},kt={class:"icon"},It={class:"value"},$t={class:"description"},wt={class:"icon"},qt={class:"value"},Ct={class:"description"},xt={class:"icon"},Dt={class:"value"},St={class:"monsterinfo-box"},Nt={class:"description"},_t={class:"icon"},Tt={class:"value"},Ut={class:"description"},At={class:"icon"},Bt={class:"value"},Vt={class:"description"},Pt={class:"icon"},Rt={class:"value"},Mt={class:"description"},Et={class:"icon"},Lt={class:"value"},jt={class:"description"},Ft={class:"icon"},Ot={class:"value"},Ht={class:"dialog-footer"},Jt={key:0,class:"monsterinfo"},Wt={class:"monsterinfo-box"},zt={class:"description"},Gt={class:"description"},Qt={class:"icon"},Xt={class:"value"},Kt={class:"description"},Yt={class:"icon"},Zt={class:"value"},el={class:"description"},tl={class:"icon"},ll={class:"value"},nl={class:"description"},il={class:"icon"},al={class:"value"},ol={class:"description"},sl={class:"icon"},rl={class:"value"},pl={class:"description"},cl={class:"icon"},ul={class:"value"},dl={class:"description"},yl={class:"icon"},hl={class:"value"},fl={class:"description"},vl={class:"icon"},ml={class:"value"},gl={class:"description"},bl={class:"icon"},kl={class:"value"},Il={class:"monsterinfo-box"},$l={class:"description"},wl={class:"icon"},ql={class:"value"},Cl={class:"description"},xl={class:"icon"},Dl={class:"value"},Sl={class:"description"},Nl={class:"icon"},_l={class:"value"},Tl={class:"description"},Ul={class:"icon"},Al={class:"value"},Bl={class:"description"},Vl={class:"icon"},Pl={class:"value"},Rl={class:"dialog-footer"},Ml={class:"dialog-footer",style:{"margin-top":"20px"}},El={class:"dialog-footer",style:{"margin-top":"20px"}},Ll={class:"dialog-footer"};const jl=n({data:()=>({show:!1,player:{pet:{},pets:[],wife:{},wifes:[],props:{money:0,flying:0,qingyuan:0,rootBone:0,currency:0,cultivateDan:0,strengtheningStone:0},score:0,level:0,dodge:0,points:0,attack:10,health:100,defense:10,taskNum:0,critical:0,isNewbie:!1,shopData:[],maxHealth:100,inventory:[],equipment:{sutra:{},armor:{},weapon:{},accessory:{}},achievement:{pet:[{id:1,state:!1},{id:2,state:!1},{id:3,state:!1},{id:4,state:!1},{id:5,state:!1},{id:6,state:!1}],monster:[],equipment:[]},cultivation:0,reincarnation:0,maxCultivation:100,backpackCapacity:50,sellingEquipmentData:[]},actions:[],isLevel:!1,petShow:!1,petInfo:{},protect:!1,increase:!1,levelsNum:{info:1,pink:7,danger:6,purple:4,primary:3,success:2,warning:5},storyText:"",shopPrice:100,shopActive:"weapon",petItemShow:!1,backPackItem:[{type:"weapon",name:"神兵"},{type:"armor",name:"护甲"},{type:"accessory",name:"灵宝"},{type:"sutra",name:"法器"}],petRootBone:!1,petCollapse:"",wifeItemShow:!1,inventoryInfo:{},inventoryShow:!1,strengthenShow:!1,strengthenInfo:{},checkedEquipmen:[],inventoryActive:"equipment",equipmentActive:"weapon",AllEquipmenType:["info","success","primary","purple","warning","danger","pink"],petReincarnation:!1,inventoryCollapse:"",sellingEquipmentShow:!1,petDropdownActive:"",equipmentDropdownActive:""}),components:{tag:e},computed:{sortedProps(){const e=this.player.props;return Object.keys(e).map((t=>({name:t,num:e[t]})))}},watch:{inventoryActive(e){return"shop"!=e||this.player.shopData.length||(this.player.shopData=A.drawPrize(this.$maxLv),this.$store.commit("setPlayer",this.player)),e},"player.attack":function(e){if(!isNaN(e))return e;this.reset()},"player.health":function(e){if(!isNaN(e))return e;this.reset()},"player.defense":function(e){if(!isNaN(e))return e;this.reset()},"player.maxHealth":function(e){if(!isNaN(e))return e;this.reset()},"player.critical":function(e){return isNaN(e)||e<0?(this.storyText="暴击属性出错, 请手动卸下身上穿的所有装备后刷新游戏<br>如果身上没有装备却一直存在此提示可以尝试穿一次装备再刷新游戏",0):e},"player.dodge":function(e){return isNaN(e)||e<0?(this.storyText="闪避属性出错, 请手动卸下身上穿的所有装备后刷新游戏<br>如果身上没有装备却一直存在此提示可以尝试穿一次装备再刷新游戏",0):e}},mounted(){const e=this.$store.state;if(localStorage.vuex){const e=JSON.parse(localStorage.vuex),t=i.decryption(e.player),l=t.version?t.version:0;if(!l||l<.8)return void this.clearSave()}e&&(this.boss=e.boss,this.player=e.player,window.player=e.player),this.startGame()},methods:{startGame(){this.storyText="你的修仙之旅开始了。",this.actions=[{text:"开始修炼",handler:()=>this.$router.push("/cultivate")},{text:"探索秘境",handler:()=>{this.player.isNewbie?this.player.level<10?this.$notifys({title:"实力不足提示",message:`外面太危险了, 请突破到${this.$levelNames(10)}再出去吧!`}):this.$router.push("/map"):this.$notifys({title:"提示",message:"新手礼包未领取"})}},{text:"批量处理",handler:this.sellingEquipmentBox},{text:"图鉴与成就",handler:()=>this.$router.push("/equipAll")},{text:"世界BOSS",handler:()=>this.$router.push("/boss")}],this.player.health=this.player.maxHealth,this.$store.commit("setPlayer",this.player)},clearSave(){this.$confirm("由于当前游戏版本不兼容存档版本,需要删档处理","存档删除提示",{center:!0,showClose:!1,showCancelButton:!1,confirmButtonText:"确定",closeOnClickModal:!1,closeOnPressEscape:!1}).then((()=>{localStorage.removeItem("vuex"),location.reload(1)}))},reset(){this.storyText='属性出错, 请添加QQ群:920930589, 上传"存档"并联系作者解决',this.$confirm("你是否要导出存档?","存档导出提示",{center:!0,confirmButtonText:"确定"}).then((()=>{this.exportData()})).catch((()=>{}))},sellingPet(){const e=this.player.pets;if(!e.length)return void this.$notifys({title:"灵宠放生提示",message:"你没有可以放生的灵宠"});const t=e.filter((e=>!e.lock));if(!t.length)return void this.$notifys({title:"灵宠放生提示",message:"你没有可以放生的未锁定灵宠"});this.sellingEquipmentShow=!1;const l=t.reduce(((e,t)=>{const l=t.reincarnation?t.reincarnation:1;let n=t.level*l;return n=Number(n)||0,e+Math.floor(n)}),0);this.player.props.cultivateDan+=l,this.player.pets=e.filter((e=>e.lock)),this.$store.commit("setPlayer",this.player),this.$notifys({title:"灵宠放生提示",message:`所有非锁定灵宠已成功放生, 他们临走前一起赠与了你${l}个培养丹`})},sellingEquipment(){const e=this.player.inventory,t=this.player.sellingEquipmentData;if(!t.length)return void this.$notifys({title:"背包装备分解提示",message:"你没有选择勾选需要分解的品阶"});const l=e.filter((e=>t.includes(e.quality)&&!e.lock));if(!l.length)return void this.$notifys({title:"背包装备分解提示",message:"背包内并没有可以售卖的装备"});this.sellingEquipmentShow=!1;const n=l.reduce(((e,t)=>{let l=t.level+t.level*this.player.reincarnation/10;return l=Number(l)||0,e+Math.floor(l)}),0);this.player.props.money+=l.length,this.player.props.strengtheningStone+=n,this.player.inventory=e.filter((e=>!t.includes(e.quality)||e.lock)),this.$store.commit("setPlayer",this.player),this.$notifys({title:"背包装备分解提示",message:`背包内所有非锁定装备已成功分解, 你获得了${n}个炼器石和${l.length}个灵石`})},sellingEquipmentDataChange(e){this.player.sellingEquipmentData=e,this.$store.commit("setPlayer",this.player)},refreshShop(){this.player.props.money<500?this.$notifys({title:"提示",message:"灵石不足, 刷新商店需要500灵石"}):(this.player.props.money-=500,this.player.shopData=A.drawPrize(this.$maxLv),this.$store.commit("setPlayer",this.player),this.$notifys({title:"提示",message:"刷新成功"}))},deleteData(){this.$confirm("你确定要删除存档吗?建议数据出问题的时候再删除","数据删除提示",{center:!0,cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{this.$notifys({title:"提示",message:"存档删除成功"}),localStorage.removeItem("vuex"),location.reload(1)})).catch((()=>{}))},importData(e){const t=e.file,l=new FileReader;l.onload=e=>{try{localStorage.setItem("vuex",e.target.result),location.reload(1)}catch(t){this.$notifys({title:"数据导入失败",message:`错误信息:${t}`})}},l.readAsText(t)},exportData(){const e=new Date,t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0"),s=new Blob([localStorage.getItem("vuex")],{type:"application/json;charset=utf-8"}),r=`我的文字修仙全靠刷${t}-${l}-${n}_${i}:${a}:${o}.json`;P.saveAs(s,r)},sellingEquipmentBox(){this.show=!1,this.sellingEquipmentShow=!0},equipItem(e,t){const l=this.getObjectById(e,this.player.inventory);if(!this.player.reincarnation&&l.level>this.player.level)this.$notifys({title:"当前境界不足",message:"无法穿戴该装备"});else{if("{}"!=JSON.stringify(this.player.equipment[t])){const e=this.player.equipment[t];this.playerAttribute(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),this.player.inventory.push(e)}this.player.equipment[t]=l,this.playerAttribute(l.dodge,l.attack,l.health,l.critical,l.defense),this.player.inventory=this.player.inventory.filter((t=>t.id!==e)),t="",this.inventoryShow=!1,this.$store.commit("setPlayer",this.player)}},inventoryLock(e){let t=this.getObjectById(e,this.player.inventory);t.lock=!t.lock,this.$store.commit("setPlayer",this.player),this.$notifys({title:t.lock?"装备锁定提示":"装备解锁提示",message:t.lock?"装备锁定成功":"装备解锁成功"})},petCarry(e){const t=this.getObjectById(e.id,this.player.pets);if("{}"!=JSON.stringify(this.player.pet)){const e=this.player.pet;this.playerAttribute(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),this.player.pets.push(this.player.pet)}this.petShow=!1,this.player.pet=t,this.playerAttribute(t.dodge,t.attack,t.health,t.critical,t.defense),this.player.pets=this.player.pets.filter((t=>t.id!==e.id)),this.$store.commit("setPlayer",this.player)},petClose(e){this.$confirm(`你确定要放生<span class="el-tag el-tag--${this.computePetsLevel(e.level)}">${e.name}(${this.$levelNames(e.level)})</span>吗?`,"灵宠放生通知",{center:!0,cancelButtonText:"取消放生",confirmButtonText:"确定放生",dangerouslyUseHTMLString:!0}).then((()=>{const t=e.reincarnation?e.reincarnation:1,l=e.level*t;this.petShow=!1,this.player.props.cultivateDan+=l,this.player.pets=this.player.pets.filter((t=>t.id!==e.id)),this.$store.commit("setPlayer",this.player),this.$notifys({title:`${e.name}已成功放生`,message:`对方临走时赠与了你${l}个培养丹`})})).catch((()=>{}))},petLock(e){e.lock=!e.lock,this.$store.commit("setPlayer",this.player),this.$notifys({title:e.lock?"灵宠锁定提示":"灵宠解锁提示",message:e.lock?"灵宠锁定成功":"灵宠解锁成功"})},calculateDifference(e,t){t=t||0;const l=e=>Number(e)===e&&e%1!=0,n=(e=e||0)-parseFloat(t)<-1?-1:e-parseFloat(t)>1?1:e-parseFloat(t),i={num:l(e)||l(t)?(100*n).toFixed(2)+"%":e-parseInt(t),icon:e>t?"success el-icon-caret-top":e==t?"":"danger el-icon-caret-bottom"};return i.num=0==i.num?"":i.num,i},enhance(e){const l=this.calculateEnhanceSuccessRate(e),n=this.calculateCost(e);n>this.player.props.strengtheningStone?this.$notifys({title:"炼器提示",message:"炼器石不足, 进行无法炼器操作",position:"top-left"}):30!=e.strengthen?this.$confirm(e.strengthen>=15&&!this.protect?`当前装备炼器等级已达到+${e.strengthen}, 如果炼器失败该装备会销毁, 请问还需要炼器吗?`:"你确定要炼器吗?","炼器提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{if(Math.random()<=l){const l=Math.floor(.2*e.initial.attack),n=Math.floor(.2*e.initial.health),i=Math.floor(.2*e.initial.defense);switch(e.type){case"weapon":e.attack+=l,this.playerAttribute(0,l,0,0,0);break;case"armor":e.health+=n,e.defense+=i,this.playerAttribute(0,0,n,0,i);break;case"accessory":case"sutra":e.attack+=l,e.health+=n,e.defense+=i,this.playerAttribute(0,l,n,0,i)}e.strengthen++,e.score=t.calculateEquipmentScore(e.dodge,e.attack,e.health,e.critical,e.defense),this.$notifys({title:"炼器提示",message:"炼器成功",position:"top-left"})}else e.strengthen>=15&&!this.protect&&(this.player.equipment[e.type]={},this.playerAttribute(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),e.strengthen=0,this.strengthenShow=!1),this.$notifys({title:"炼器提示",message:e.strengthen>=15&&!this.protect?"炼器失败, 装备已自动销毁":"炼器失败",position:"top-left"});this.player.props.strengtheningStone-=n,this.$store.commit("setPlayer",this.player)})).catch((()=>{})):this.$notifys({title:"炼器提示",message:"当前装备炼器等级已满",position:"top-left"})},calculateCost(e){return(5*e.level+50*e.strengthen)*(this.protect?10:1)*(this.increase?5:1)},calculateEnhanceSuccessRate(e){let t=this.increase?.1:0;return 1-(.03*e.strengthen-t)},petUpgrade(e){const l=this.petConsumption(e.level);this.petRootBone&&this.player.props.rootBone<e.rootBone?this.$notifys({title:"灵宠培养提示",message:"悟性丹不足, 无法提升灵宠悟性",position:"top-left"}):this.petReincarnation&&this.player.reincarnation<this.player.pet.reincarnation?this.$notifys({title:"灵宠培养提示",message:"灵宠转生不能高于人物转生",position:"top-left"}):this.petReincarnation&&this.$maxLv>e.level?this.$notifys({title:"灵宠培养提示",message:"灵宠境界未满无法转生",position:"top-left"}):!this.petReincarnation&&e.level>=this.$maxLv?this.$notifys({title:"灵宠培养提示",message:"灵宠境界已满请转生",position:"top-left"}):l>this.player.props.cultivateDan?this.$notifys({title:"灵宠培养提示",message:"培养丹不足, 进行无法培养",position:"top-left"}):this.$confirm("你确定要培养该灵宠吗?","灵宠培养提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{let n,i,a=0;if(this.petRootBone&&this.player.props.rootBone>=e.rootBone){let t=e.initial.rootBone-e.rootBone;t=t||1,n=Math.floor(e.initial.attack*t),i=Math.floor(e.initial.health*t),a=Math.floor(e.initial.defense*t),e.rootBone++,this.player.props.rootBone-=e.rootBone}else n=Math.floor(.05*e.initial.attack),i=Math.floor(.05*e.initial.health),a=Math.floor(.05*e.initial.defense);this.petReincarnation&&e.level>=this.$maxLv?(this.player.pet.level=1,this.petReincarnation=!1,this.player.pet.reincarnation++,this.$notifys({title:"灵宠培养提示",message:"灵宠转生成功, 已重置灵宠境界",position:"top-left"})):(this.player.pet.level++,this.$notifys({title:"灵宠培养提示",message:"灵宠培养成功",position:"top-left"})),this.player.pet.attack+=n,this.player.pet.health+=i,this.player.pet.defense+=a,this.playerAttribute(0,n,i,0,a),this.player.pet.score=t.calculateEquipmentScore(this.player.pet.dodge,this.player.pet.attack,this.player.pet.health,this.player.pet.critical,this.player.pet.defense),this.player.props.cultivateDan-=l,this.$store.commit("setPlayer",this.player)})).catch((()=>{}))},wifeUpgrade(e){const t=10*e.level;t>this.player.props.qingyuan?this.$notifys({title:"道侣升级提示",message:"情缘点不足, 进行无法培养",position:"top-left"}):this.$confirm("你确定要升级该道侣吗?","道侣升级提示",{cancelButtonText:"我点错了",confirmButtonText:"确定以及肯定"}).then((()=>{const l=Math.floor(.1*e.attack),n=Math.floor(.1*e.health),i=Math.floor(.1*e.defense);this.player.wife.level++,this.$notifys({title:"道侣升级提示",message:"道侣升级提示成功",position:"top-left"}),this.player.wife.attack+=l,this.player.wife.health+=n,this.player.wife.defense+=i,this.playerAttribute(0,l,n,0,i),this.player.props.qingyuan-=t,this.$store.commit("setPlayer",this.player)})).catch((()=>{}))},petConsumption(e){const t=this.petReincarnation?10:1;return(200*e+(this.player.pet.reincarnation?200*e:1))*t},shopBuy(e){this.player.props.currency>=this.shopPrice?(this.player.props.currency-=this.shopPrice,this.player.inventory.length>=this.player.backpackCapacity?this.storyText="当前装备背包容量已满, 该装备自动丢弃, 转生可增加背包容量":this.player.inventory.push(e),this.$store.commit("setPlayer",this.player),this.inventoryActive=e.type,this.$notifys({title:"购买提示",message:`您成功花费${this.shopPrice}鸿蒙石购买${e.name}`})):this.$notifys({title:"购买提示",message:"购买失败, 鸿蒙石不足"})},wifeTack(e){if("{}"!=JSON.stringify(this.player.wife)){const e=this.player.wife;this.playerAttribute(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),this.player.wifes.push(this.player.wife)}this.player.wife=e,this.playerAttribute(e.dodge,e.attack,e.health,e.critical,e.defense),this.player.wifes=this.player.wifes.filter((t=>t.name!==e.name)),this.$store.commit("setPlayer",this.player)},wifeRevoke(){const e=this.player.wife;this.playerAttribute(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),this.player.wife={},this.player.wifes.push(e),this.$store.commit("setPlayer",this.player)},wifeItemInfo(e){this.$confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>境界: ${this.$levelNames(e.level)}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(e.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(e.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(e.defense)}</p>\n                        </div>\n                    </div>`,confirmButtonText:"跟随",dangerouslyUseHTMLString:!0}).then((()=>{this.wifeTack(e)})).catch((()=>{}))},shopItemInfo(e){this.$confirm("",e.name,{center:!0,message:`<div class="monsterinfo">\n                        <div class="monsterinfo-box">\n                            <p>价格: ${this.shopPrice}鸿蒙石</p>\n                            <p>类型: ${this.$genre[e.type]}</p>\n                            <p>境界: ${this.$levelNames(e.level)}</p>\n                            <p>品质: ${this.$levels[e.quality]}</p>\n                            <p>气血: ${this.$formatNumberToChineseUnit(e.health)}</p>\n                            <p>攻击: ${this.$formatNumberToChineseUnit(e.attack)}</p>\n                            <p>防御: ${this.$formatNumberToChineseUnit(e.defense)}</p>\n                            <p>闪避率: ${e.dodge>0?100*e.dodge>100?100:(100*e.dodge).toFixed(2):0}%</p>\n                            <p>暴击率: ${e.critical>0?100*e.critical>100?100:(100*e.critical).toFixed(2):0}%</p>\n                            <p>装备评分: ${this.$formatNumberToChineseUnit(e.score)}</p>\n                        </div>\n                    </div>`,cancelButtonText:"取消购买",confirmButtonText:"购买装备",dangerouslyUseHTMLString:!0}).then((()=>{this.shopBuy(e)})).catch((()=>{}))},newbiePack(e){if(!this.player.isNewbie){let l={};if(4==e)l=t.equip_Weapons(10,!1);else if(3==e)l=t.equip_Armors(10,!1);else if(2==e)l=t.equip_Accessorys(10,!1);else if(1==e)l=t.equip_Sutras(10,!1);else{if(0!=e)return;this.player.isNewbie=!0,this.$notifys({title:"新手礼包领取提示",message:"新手礼包领取成功!"})}"{}"!=JSON.stringify(l)&&this.player.inventory.push(l),e--,setTimeout((()=>{this.newbiePack(e)}),100),this.$store.commit("setPlayer",this.player)}},inventoryClose(e){this.$confirm(`你确定要分解<span class="el-tag el-tag--${e.quality}">${this.$levels[e.quality]}${e.name}(${this.$genre[e.type]})</span>吗?`,"装备分解通知",{center:!0,cancelButtonText:"取消分解",confirmButtonText:"确定分解",dangerouslyUseHTMLString:!0}).then((()=>{const t=e.level+Math.floor(e.level*this.player.reincarnation/10);this.player.props.strengtheningStone+=t,this.player.inventory=this.player.inventory.filter((t=>t.id!==e.id)),this.inventoryShow=!1,this.$store.commit("setPlayer",this.player),this.$notifys({title:"背包装备售卖提示",message:`${e.name}已成功卖出, 你获得了${t}个炼器石`})})).catch((()=>{}))},getObjectById:(e,t)=>t.find((t=>t.id===e)),inventory(e){this.inventoryInfo=this.getObjectById(e,this.player.inventory),this.inventoryShow=!0},petItemInfo(e){this.petShow=!0,this.petInfo=e},petRetract(){const e=this.player.pet;"{}"!=JSON.stringify(e)&&(this.playerAttribute(-e.dodge,-e.attack,-e.health,-e.critical,-e.defense),this.inventoryActive="pet",this.player.pets.push(e),this.player.pet={},this.$store.commit("setPlayer",this.player))},computePetsLevel:e=>e>=1&&e<=9?"success":e>=10&&e<=19?"primary":e>=20&&e<=29?"warning":e>=30?"danger":void 0,playerAttribute(e=0,l=0,n=0,i=0,a=0){e=isNaN(e)||!e?0:parseFloat(e),l=isNaN(l)||!l?0:Math.floor(l),n=isNaN(n)||!n?0:Math.floor(n),a=isNaN(a)||!a?0:Math.floor(a),i=isNaN(i)||!i?0:parseFloat(i),this.player.dodge=this.player.dodge+e,this.player.attack=this.player.attack+l,this.player.health=this.player.health+n,this.player.maxHealth=this.player.maxHealth+n,this.player.critical=this.player.critical+i,this.player.defense=this.player.defense+a,this.player.score=t.calculateEquipmentScore(this.player.dodge,this.player.attack,this.player.maxHealth,this.player.critical,this.player.defense)},equipmentClose(e){const{inventory:t,equipment:l}=this.player;l[e]&&(this.playerAttribute(-l[e].dodge,-l[e].attack,-l[e].health,-l[e].critical,-l[e].defense),this.equipmentActive=e,l[e].id=Date.now(),t.push(l[e]),l[e]={},this.$store.commit("setPlayer",this.player))},equipmentInfo(e){const t=this.player.equipment[e];this.strengthenShow=!0,this.strengthenInfo=t,this.player.equipment[e].strengthen=t.strengthen?t.strengthen:0},equipmentDropdown(e){this.equipmentDropdownActive=e,this.player.inventory=this.player.inventory.slice().sort(((t,l)=>l[e]-t[e]))},petDropdown(e){this.petDropdownActive=e,this.player.pets=this.player.pets.slice().sort(((t,l)=>l[e]-t[e]))},attributePoints(e){const t={attack:"攻击",health:"气血",defense:"防御"};if(this.player.points>0){const l=this.player.reincarnation?10*this.player.reincarnation:1,n="attack"==e||"defense"==e?50*l:100*l;"attack"==e?this.playerAttribute(0,n,0,0,0):"defense"==e?this.playerAttribute(0,0,0,0,n):"health"==e&&this.playerAttribute(0,0,n,0,0),this.player.points--,this.$store.commit("setPlayer",this.player),this.$notifys({title:"加点提示",message:`加点成功${t[e]}增加了${n}点`})}},calculatePercentageDifference(e,t){let l=Math.abs(e-t)/e*100;return`${(this.player.maxCultivation-this.player.cultivation>0?100-l:100).toFixed(2)}%`},async copyTextToClipboard(e){if(navigator.clipboard)try{await navigator.clipboard.writeText(e),this.$notifys({title:"提示",message:"群号复制成功"})}catch(t){this.$notifys({title:"提示",message:"群号复制失败, 请手动复制"})}},qq(){const e="920930589";this.$prompt("","官方群聊",{inputValue:e,showCancelButton:!1,confirmButtonText:"复制群号",beforeClose:async(t,l,n)=>{if("confirm"===t){if(window.navigator.clipboard)try{await window.navigator.clipboard.writeText(e),n(),this.show=!1,this.$notifys({title:"提示",message:"群号复制成功"})}catch(i){this.$notifys({title:"提示",message:"群号复制失败, 请手动复制"})}}else n()}}).catch((()=>{}))}}},[["render",function(t,l,n,i,A,B){var V,P,jl,Fl,Ol,Hl,Jl,Wl,zl,Gl,Ql,Xl,Kl,Yl,Zl;const en=a("Warning"),tn=v,ln=a("CirclePlus"),nn=e,an=a("arrow-down"),on=w,sn=q,rn=C,pn=a("Lock"),cn=a("Unlock"),un=x,dn=m,yn=a("Refresh"),hn=g,fn=b,vn=D,mn=S,gn=N,bn=k,kn=_,In=T,$n=U;return I(),o("div",R,[s("div",M,[s("div",E,[s("p",{innerHTML:A.storyText},null,8,L)]),s("div",j,[s("div",F,[s("div",{class:"tag attribute",onClick:l[0]||(l[0]=e=>A.isLevel=!0)},[r(" 境界: "+p(t.$levelNames(A.player.level))+" ("+p(A.player.reincarnation||0)+"转) ",1),c(tn,null,{default:u((()=>[c(en)])),_:1})]),A.player.level>=this.$maxLv?(I(),o("div",O," 修为: 登峰造极 ")):(I(),o("div",{key:1,class:"tag attribute",onClick:l[1]||(l[1]=e=>t.$notifys({title:"提示",message:`您距离${t.$levelNames(A.player.level+1)}境界还需${t.$formatNumberToChineseUnit(A.player.maxCultivation-A.player.cultivation)}点修为`}))},[r(" 修为: "+p(B.calculatePercentageDifference(A.player.maxCultivation,A.player.cultivation))+" ",1),c(tn,null,{default:u((()=>[c(en)])),_:1})])),s("div",H,[r(" 气血: "+p(t.$formatNumberToChineseUnit(A.player.health))+" / "+p(t.$formatNumberToChineseUnit(A.player.maxHealth))+" ",1),A.player.points>0?(I(),d(tn,{key:0,onClick:l[2]||(l[2]=e=>B.attributePoints("health"))},{default:u((()=>[c(ln)])),_:1})):y("",!0)]),s("div",J,[r(" 攻击: "+p(t.$formatNumberToChineseUnit(A.player.attack))+" ",1),A.player.points>0?(I(),d(tn,{key:0,onClick:l[3]||(l[3]=e=>B.attributePoints("attack"))},{default:u((()=>[c(ln)])),_:1})):y("",!0)]),s("div",W,[r(" 防御: "+p(t.$formatNumberToChineseUnit(A.player.defense))+" ",1),A.player.points>0?(I(),d(tn,{key:0,onClick:l[4]||(l[4]=e=>B.attributePoints("defense"))},{default:u((()=>[c(ln)])),_:1})):y("",!0)]),s("div",z," 闪避率: "+p(A.player.dodge>0?100*A.player.dodge>100?100:(100*A.player.dodge).toFixed(2):0)+"% ",1),s("div",G," 暴击率: "+p(A.player.critical>0?100*A.player.critical>100?100:(100*A.player.critical).toFixed(2):0)+"% ",1),s("div",Q," 总体实力: "+p(t.$formatNumberToChineseUnit(A.player.score)),1),s("div",{class:"tag attribute",onClick:l[5]||(l[5]=e=>t.$notifys({title:"获得方式",message:"每提成一次境界可以获得3点境界点"}))},[r(" 境界点: "+p(t.$formatNumberToChineseUnit(A.player.points))+" ",1),c(tn,null,{default:u((()=>[c(en)])),_:1})]),s("div",{class:"tag attribute",onClick:l[6]||(l[6]=e=>t.$notifys({title:"获得方式",message:"每转生一次可以增加50容量"}))},[r(" 背包总容量: "+p(A.player.backpackCapacity)+" ",1),c(tn,null,{default:u((()=>[c(en)])),_:1})])])]),s("div",X,[s("div",K,[s("span",Y,[l[51]||(l[51]=s("span",null,"神兵: ",-1)),(null==(V=A.player.equipment.weapon)?void 0:V.name)?(I(),d(nn,{key:0,type:null==(P=A.player.equipment.weapon)?void 0:P.quality,closable:!!(null==(jl=A.player.equipment.weapon)?void 0:jl.name),onClose:l[7]||(l[7]=e=>B.equipmentClose("weapon")),onClick:l[8]||(l[8]=e=>B.equipmentInfo("weapon"))},{default:u((()=>{var e,t,l;return[r(p(null==(e=A.player.equipment.weapon)?void 0:e.name)+p((null==(t=A.player.equipment.weapon)?void 0:t.strengthen)?"+"+(null==(l=A.player.equipment.weapon)?void 0:l.strengthen):""),1)]})),_:1},8,["type","closable"])):(I(),o("span",Z,"无"))]),s("span",ee,[l[52]||(l[52]=s("span",null,"护甲: ",-1)),(null==(Fl=A.player.equipment.armor)?void 0:Fl.name)?(I(),d(nn,{key:0,type:null==(Ol=A.player.equipment.armor)?void 0:Ol.quality,closable:!!(null==(Hl=A.player.equipment.armor)?void 0:Hl.name),onClose:l[9]||(l[9]=e=>B.equipmentClose("armor")),onClick:l[10]||(l[10]=e=>B.equipmentInfo("armor"))},{default:u((()=>{var e,t,l;return[r(p(null==(e=A.player.equipment.armor)?void 0:e.name)+p((null==(t=A.player.equipment.armor)?void 0:t.strengthen)?"+"+(null==(l=A.player.equipment.armor)?void 0:l.strengthen):""),1)]})),_:1},8,["type","closable"])):(I(),o("span",te,"无"))])]),s("div",le,[s("span",ne,[l[53]||(l[53]=s("span",null,"灵宝: ",-1)),(null==(Jl=A.player.equipment.accessory)?void 0:Jl.name)?(I(),d(nn,{key:0,type:null==(Wl=A.player.equipment.accessory)?void 0:Wl.quality,closable:!!(null==(zl=A.player.equipment.accessory)?void 0:zl.name),onClose:l[11]||(l[11]=e=>B.equipmentClose("accessory")),onClick:l[12]||(l[12]=e=>B.equipmentInfo("accessory"))},{default:u((()=>{var e,t,l;return[r(p(null==(e=A.player.equipment.accessory)?void 0:e.name)+p((null==(t=A.player.equipment.accessory)?void 0:t.strengthen)?"+"+(null==(l=A.player.equipment.accessory)?void 0:l.strengthen):""),1)]})),_:1},8,["type","closable"])):(I(),o("span",ie,"无"))]),s("span",ae,[l[54]||(l[54]=s("span",null,"法器: ",-1)),(null==(Gl=A.player.equipment.sutra)?void 0:Gl.name)?(I(),d(nn,{key:0,type:null==(Ql=A.player.equipment.sutra)?void 0:Ql.quality,closable:!!(null==(Xl=A.player.equipment.sutra)?void 0:Xl.name),onClose:l[13]||(l[13]=e=>B.equipmentClose("sutra")),onClick:l[14]||(l[14]=e=>B.equipmentInfo("sutra"))},{default:u((()=>{var e,t,l;return[r(p(null==(e=A.player.equipment.sutra)?void 0:e.name)+p((null==(t=A.player.equipment.sutra)?void 0:t.strengthen)?"+"+(null==(l=A.player.equipment.sutra)?void 0:l.strengthen):""),1)]})),_:1},8,["type","closable"])):(I(),o("span",oe,"无"))])]),s("div",se,[s("span",re,[l[55]||(l[55]=s("span",null,"道侣: ",-1)),(null==(Kl=A.player.wife)?void 0:Kl.name)?(I(),d(nn,{key:0,class:"pet",closable:"",onClose:B.wifeRevoke,onClick:l[15]||(l[15]=e=>A.wifeItemShow=!0)},{default:u((()=>{var e;return[r(p(null==(e=A.player.wife)?void 0:e.name),1)]})),_:1},8,["onClose"])):(I(),o("span",pe,"无"))]),s("span",ce,[l[56]||(l[56]=s("span",null,"灵宠: ",-1)),(null==(Yl=A.player.pet)?void 0:Yl.name)?(I(),d(nn,{key:0,class:"pet",type:B.computePetsLevel(null==(Zl=A.player.pet)?void 0:Zl.level),closable:"",onClose:B.petRetract,onClick:l[16]||(l[16]=e=>A.petItemShow=!0)},{default:u((()=>{var e;return[r(p(null==(e=A.player.pet)?void 0:e.name)+"("+p(t.$levelNames(A.player.pet.level))+") ",1)]})),_:1},8,["type","onClose"])):(I(),o("span",ue,"无"))])]),s("div",de,[c(dn,{modelValue:A.inventoryActive,"onUpdate:modelValue":l[21]||(l[21]=e=>A.inventoryActive=e),stretch:!0},{default:u((()=>[c(un,{label:"装备",name:"equipment"},{default:u((()=>[A.player.inventory.length?(I(),d(rn,{key:0,trigger:"click",onCommand:B.equipmentDropdown},{dropdown:u((()=>[c(sn,null,{default:u((()=>[(I(!0),o(h,null,f(t.$dropdownType,((e,t)=>(I(),d(on,{command:e.type,key:t,disabled:A.equipmentDropdownActive==e.type},{default:u((()=>[r(" 根据"+p(e.name),1)])),_:2},1032,["command","disabled"])))),128))])),_:1})])),default:u((()=>[s("span",ye,[l[57]||(l[57]=r(" 装备排序 ")),c(tn,null,{default:u((()=>[c(an)])),_:1})])])),_:1},8,["onCommand"])):y("",!0),c(dn,{modelValue:A.equipmentActive,"onUpdate:modelValue":l[18]||(l[18]=e=>A.equipmentActive=e)},{default:u((()=>[(I(!0),o(h,null,f(A.backPackItem,((e,t)=>(I(),d(un,{label:e.name,name:e.type,key:t},{default:u((()=>[s("div",he,[A.player.inventory.length?(I(),o("div",fe,[(I(!0),o(h,null,f(A.player.inventory,(t=>(I(),o(h,null,[t.type==e.type?(I(),d(nn,{class:"inventory-item",key:t.id,type:t.quality,closable:!t.lock,onClose:e=>B.inventoryClose(t),onClick:e=>B.inventory(t.id,t.type)},{default:u((()=>[t.lock?(I(),d(tn,{key:0},{default:u((()=>[c(pn)])),_:1})):(I(),d(tn,{key:1},{default:u((()=>[c(cn)])),_:1})),r(" "+p(null==t?void 0:t.name)+p((null==t?void 0:t.strengthen)?"+"+(null==t?void 0:t.strengthen):""),1)])),_:2},1032,["type","closable","onClose","onClick"])):y("",!0)],64)))),256))])):y("",!0),A.player.isNewbie?y("",!0):(I(),d(nn,{key:1,type:"success",class:"dialog-footer-button","disable-transitions":!0,onClick:l[17]||(l[17]=e=>B.newbiePack(4))},{default:u((()=>l[58]||(l[58]=[r(" 领取新手礼包 ")]))),_:1}))])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(un,{label:"道具",name:"props"},{default:u((()=>[s("div",ve,[(I(!0),o(h,null,f(B.sortedProps,((e,l)=>(I(),d(nn,{key:l,type:"primary",class:"inventory-item",onClick:l=>t.$notifys({title:"获得方式",message:t.$propItemNames[e.name].desc})},{default:u((()=>[r(p(t.$propItemNames[e.name].name)+"("+p(e.num)+") ",1)])),_:2},1032,["onClick"])))),128))])])),_:1}),c(un,{label:"灵宠",name:"pet"},{default:u((()=>[A.player.pets.length?(I(),d(rn,{key:0,trigger:"click",onCommand:B.petDropdown},{dropdown:u((()=>[c(sn,null,{default:u((()=>[(I(!0),o(h,null,f(t.$dropdownType,((e,t)=>(I(),d(on,{command:e.type,key:t,disabled:A.petDropdownActive==e.type},{default:u((()=>[r(" 根据"+p(e.name),1)])),_:2},1032,["command","disabled"])))),128))])),_:1})])),default:u((()=>[s("span",me,[l[59]||(l[59]=r(" 灵宠排序 ")),c(tn,null,{default:u((()=>[c(an)])),_:1})])])),_:1},8,["onCommand"])):y("",!0),s("div",ge,[(I(!0),o(h,null,f(A.player.pets,((e,l)=>(I(),d(nn,{key:l,class:"inventory-item",type:B.computePetsLevel(e.level),closable:"",onClose:t=>B.petClose(e),onClick:t=>B.petItemInfo(e)},{default:u((()=>[e.lock?(I(),d(tn,{key:0},{default:u((()=>[c(pn)])),_:1})):(I(),d(tn,{key:1},{default:u((()=>[c(cn)])),_:1})),r(" "+p(e.name)+"("+p(t.$levelNames(e.level))+") ",1)])),_:2},1032,["type","onClose","onClick"])))),128))])])),_:1}),c(un,{label:"道侣",name:"wife"},{default:u((()=>[s("div",be,[(I(!0),o(h,null,f(A.player.wifes,((e,t)=>(I(),d(nn,{key:t,class:"inventory-item",onClick:t=>B.wifeItemInfo(e)},{default:u((()=>[r(p(e.name),1)])),_:2},1032,["onClick"])))),128))])])),_:1}),c(un,{label:"鸿蒙商店",name:"shop"},{default:u((()=>[s("div",ke,[s("span",{class:"el-dropdown-link el-dropdown-selfdefine",onClick:l[19]||(l[19]=(...e)=>B.refreshShop&&B.refreshShop(...e))},[l[60]||(l[60]=r(" 刷新商店 ")),c(tn,null,{default:u((()=>[c(yn)])),_:1})])]),c(dn,{modelValue:A.shopActive,"onUpdate:modelValue":l[20]||(l[20]=e=>A.shopActive=e),stretch:!0},{default:u((()=>[(I(!0),o(h,null,f(A.player.shopData,((e,t)=>(I(),d(un,{label:e.name,name:e.type,key:t},{default:u((()=>[s("div",Ie,[(I(!0),o(h,null,f(e.data,((t,l)=>(I(),o(h,null,[t.type==e.type?(I(),d(nn,{class:"inventory-item",type:t.quality,key:l,onClick:e=>B.shopItemInfo(t)},{default:u((()=>[r(p(t.name),1)])),_:2},1032,["type","onClick"])):y("",!0)],64)))),256))])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])]),s("div",$e,[(I(!0),o(h,null,f(A.actions,((e,t)=>(I(),o("div",{class:"action",key:t},[c(hn,{class:"item",type:e.type?e.type:"",onClick:e.handler},{default:u((()=>[r(p(e.text),1)])),_:2},1032,["type","onClick"])])))),128)),s("div",we,[c(hn,{class:"item",onClick:l[22]||(l[22]=e=>A.show=!0)},{default:u((()=>l[61]||(l[61]=[r(" 数据管理 ")]))),_:1})])])]),c(fn,{title:"修仙境界表",modelValue:A.isLevel,"onUpdate:modelValue":l[23]||(l[23]=e=>A.isLevel=e),direction:"ltr",class:"levels"},{default:u((()=>[(I(!0),o(h,null,f(t.$maxLv,((e,l)=>(I(),d(nn,{class:"inventory-item",type:A.player.level==l?"primary":l>A.player.level?"danger":"success",key:l},{default:u((()=>[r(p(t.$levelNames(e)),1)])),_:2},1032,["type"])))),128))])),_:1},8,["modelValue"]),c(fn,{title:A.player.wife.name,modelValue:A.wifeItemShow,"onUpdate:modelValue":l[26]||(l[26]=e=>A.wifeItemShow=e),direction:"rtl",class:"strengthen"},{default:u((()=>[s("div",qe,[s("div",Ce,[s("div",xe,[s("div",De," 境界: "+p(t.$levelNames(A.player.wife.level)),1),s("div",Se," 气血: "+p(t.$formatNumberToChineseUnit(A.player.wife.health)),1),s("div",Ne," 攻击: "+p(t.$formatNumberToChineseUnit(A.player.wife.attack)),1),s("div",_e," 防御: "+p(t.$formatNumberToChineseUnit(A.player.wife.defense)),1),s("div",{class:"tag attribute",onClick:l[24]||(l[24]=e=>t.$notifys({title:"获得方式",message:"可以通过赠送礼物给NPC获得",position:"top-left"}))}," 拥有情缘点: "+p(t.$formatNumberToChineseUnit(A.player.props.qingyuan)),1),s("div",Te," 升级消耗: "+p(10*A.player.wife.level),1)])]),s("div",Ue,[c(hn,{type:"primary",onClick:l[25]||(l[25]=e=>B.wifeUpgrade(A.player.wife)),disabled:A.player.wife.level>=t.$maxLv},{default:u((()=>[r(p(A.player.wife.level>=t.$maxLv?"道侣等级已满":"道侣升级"),1)])),_:1},8,["disabled"])])])])),_:1},8,["title","modelValue"]),c(fn,{title:A.player.pet.name,modelValue:A.petItemShow,"onUpdate:modelValue":l[32]||(l[32]=e=>A.petItemShow=e),direction:"rtl",class:"strengthen"},{default:u((()=>[s("div",Ae,[s("div",Be,[s("div",Ve,[s("div",Pe," 境界: "+p(t.$levelNames(A.player.pet.level))+" ("+p(A.player.pet.reincarnation||0)+"转) ",1),s("div",Re," 悟性: "+p(A.player.pet.rootBone),1),s("div",Me," 气血: "+p(t.$formatNumberToChineseUnit(A.player.pet.health)),1),s("div",Ee," 攻击: "+p(t.$formatNumberToChineseUnit(A.player.pet.attack)),1),s("div",Le," 防御: "+p(t.$formatNumberToChineseUnit(A.player.pet.defense)),1),s("div",je," 灵宠评分: "+p(t.$formatNumberToChineseUnit(A.player.pet.score)),1),s("div",{class:"tag attribute",onClick:l[27]||(l[27]=e=>t.$notifys({title:"获得方式",message:"可以通过探索秘境获得",position:"top-left"}))}," 拥有培养丹: "+p(t.$formatNumberToChineseUnit(A.player.props.cultivateDan)),1),s("div",{class:"tag attribute",onClick:l[28]||(l[28]=e=>t.$notifys({title:"获得方式",message:"可以通过击败世界BOSS获得",position:"top-left"}))}," 拥有悟性丹: "+p(t.$formatNumberToChineseUnit(A.player.props.rootBone)),1),s("div",Fe," 培养消耗: "+p(B.petConsumption(A.player.pet.level)),1),s("div",Oe," 提升悟性消耗: "+p(A.petRootBone?A.player.pet.rootBone:0),1)])]),s("div",He,[c(vn,{modelValue:A.petReincarnation,"onUpdate:modelValue":l[29]||(l[29]=e=>A.petReincarnation=e),label:"灵宠转生"},null,8,["modelValue"]),c(vn,{modelValue:A.petRootBone,"onUpdate:modelValue":l[30]||(l[30]=e=>A.petRootBone=e),label:"提升悟性"},null,8,["modelValue"]),c(hn,{type:"primary",onClick:l[31]||(l[31]=e=>B.petUpgrade(A.player.pet))},{default:u((()=>l[62]||(l[62]=[r(" 点击培养 ")]))),_:1})])])])),_:1},8,["title","modelValue"]),c(fn,{title:"装备炼器",modelValue:A.strengthenShow,"onUpdate:modelValue":l[37]||(l[37]=e=>A.strengthenShow=e),direction:"rtl",class:"strengthen"},{default:u((()=>[A.strengthenShow?(I(),o("div",Je,[s("div",We,[s("div",ze,[s("div",Ge," 气血: "+p(t.$formatNumberToChineseUnit(A.strengthenInfo.health)),1),s("div",Qe," 攻击: "+p(t.$formatNumberToChineseUnit(A.strengthenInfo.attack)),1),s("div",Xe," 防御: "+p(t.$formatNumberToChineseUnit(A.strengthenInfo.defense)),1),s("div",Ke," 炼器等级: "+p(A.strengthenInfo.strengthen??0),1),s("div",Ye," 装备评分: "+p(t.$formatNumberToChineseUnit(A.strengthenInfo.score)),1),s("div",{class:"tag attribute",onClick:l[33]||(l[33]=e=>t.$notifys({title:"获得方式",message:"分解装备可获取",position:"top-left"}))}," 拥有炼器石: "+p(t.$formatNumberToChineseUnit(A.player.props.strengtheningStone)),1),s("div",Ze," 炼器消耗: "+p(B.calculateCost(A.strengthenInfo)),1),s("div",et," 成功率: "+p((100*B.calculateEnhanceSuccessRate(A.strengthenInfo)).toFixed(2))+"% ",1)])]),s("div",tt,[c(vn,{modelValue:A.protect,"onUpdate:modelValue":l[34]||(l[34]=e=>A.protect=e),label:"炼器保护"},null,8,["modelValue"]),c(vn,{modelValue:A.increase,"onUpdate:modelValue":l[35]||(l[35]=e=>A.increase=e),label:"炼器增幅"},null,8,["modelValue"]),c(hn,{type:"primary",onClick:l[36]||(l[36]=e=>B.enhance(A.strengthenInfo))},{default:u((()=>l[63]||(l[63]=[r(" 点击炼器 ")]))),_:1})])])):y("",!0)])),_:1},8,["modelValue"]),c(bn,{title:A.petInfo.name,modelValue:A.petShow,"onUpdate:modelValue":l[42]||(l[42]=e=>A.petShow=e),center:"",width:"420px"},{default:u((()=>{var e,n,i,a,o,d,y,h,f,v,m,g,b,k,I,w,q,C,x,D,S,N,_,T,U,V,P,R,M,E,L,j,F,O,H,J,W,z,G,Q,X,K,Y,Z,ee;return[s("div",lt,[s("div",nt,[s("p",null,[s("span",it,"境界: "+p(t.$levelNames(null==(e=A.petInfo)?void 0:e.level)),1),s("span",at,[s("i",{class:$(B.calculateDifference(null==(n=A.petInfo)?void 0:n.level,null==(i=A.player.pet)?void 0:i.level).icon)},null,2)]),s("span",ot,p(A.petInfo.level>parseInt((null==(a=A.player.pet)?void 0:a.level)||0)?t.$levelNames(A.petInfo.level):t.$levelNames(null==(o=A.player.pet)?void 0:o.level)),1)]),s("p",null,[s("span",st,"转生: "+p((null==(d=A.petInfo)?void 0:d.reincarnation)||0),1),s("span",rt,[s("i",{class:$(B.calculateDifference(null==(y=A.petInfo)?void 0:y.reincarnation,null==(h=A.player.pet)?void 0:h.reincarnation).icon)},null,2)]),s("span",pt,p(B.calculateDifference(null==(f=A.petInfo)?void 0:f.reincarnation,null==(v=A.player.pet)?void 0:v.reincarnation).num),1)]),s("p",null,[s("span",ct,"气血: "+p(null==(m=A.petInfo)?void 0:m.health),1),s("span",ut,[s("i",{class:$(B.calculateDifference(null==(g=A.petInfo)?void 0:g.health,null==(b=A.player.pet)?void 0:b.health).icon)},null,2)]),s("span",dt,p(B.calculateDifference(null==(k=A.petInfo)?void 0:k.health,null==(I=A.player.pet)?void 0:I.health).num),1)]),s("p",null,[s("span",yt,"攻击: "+p(null==(w=A.petInfo)?void 0:w.attack),1),s("span",ht,[s("i",{class:$(B.calculateDifference(null==(q=A.petInfo)?void 0:q.attack,null==(C=A.player.pet)?void 0:C.attack).icon)},null,2)]),s("span",ft,p(B.calculateDifference(null==(x=A.petInfo)?void 0:x.attack,null==(D=A.player.pet)?void 0:D.attack).num),1)]),s("p",null,[s("span",vt,"防御: "+p(null==(S=A.petInfo)?void 0:S.defense),1),s("span",mt,[s("i",{class:$(B.calculateDifference(null==(N=A.petInfo)?void 0:N.defense,null==(_=A.player.pet)?void 0:_.defense).icon)},null,2)]),s("span",gt,p(B.calculateDifference(null==(T=A.petInfo)?void 0:T.defense,null==(U=A.player.pet)?void 0:U.defense).num),1)]),s("p",null,[s("span",bt,"闪避率: "+p((null==(V=A.petInfo)?void 0:V.dodge)>0?100*(null==(P=A.petInfo)?void 0:P.dodge)>100?100:(100*(null==(R=A.petInfo)?void 0:R.dodge)).toFixed(2):0)+"%",1),s("span",kt,[s("i",{class:$(B.calculateDifference(null==(M=A.petInfo)?void 0:M.dodge,null==(E=A.player.pet)?void 0:E.dodge).icon)},null,2)]),s("span",It,p(B.calculateDifference(null==(L=A.petInfo)?void 0:L.dodge,null==(F=null==(j=A.player)?void 0:j.pet)?void 0:F.dodge).num),1)]),s("p",null,[s("span",$t,"暴击率: "+p((null==(O=A.petInfo)?void 0:O.critical)>0?100*(null==(H=A.petInfo)?void 0:H.critical)>100?100:(100*(null==(J=A.petInfo)?void 0:J.critical)).toFixed(2):0)+"%",1),s("span",wt,[s("i",{class:$(B.calculateDifference(null==(W=A.petInfo)?void 0:W.critical,null==(z=A.player.pet)?void 0:z.critical).icon)},null,2)]),s("span",qt,p(B.calculateDifference(null==(G=A.petInfo)?void 0:G.critical,null==(Q=A.player.pet)?void 0:Q.critical).num),1)]),s("p",null,[s("span",Ct,"灵宠评分: "+p(null==(X=A.petInfo)?void 0:X.score),1),s("span",xt,[s("i",{class:$(B.calculateDifference(null==(K=A.petInfo)?void 0:K.score,null==(Y=A.player.pet)?void 0:Y.score).icon)},null,2)]),s("span",Dt,p(B.calculateDifference(null==(Z=A.petInfo)?void 0:Z.score,null==(ee=A.player.pet)?void 0:ee.score).num),1)])])]),c(gn,{modelValue:A.petCollapse,"onUpdate:modelValue":l[38]||(l[38]=e=>A.petCollapse=e),class:"collapse"},{default:u((()=>[c(mn,{name:"1"},{title:u((()=>l[64]||(l[64]=[s("div",{class:"custom-title"},"基础属性对比",-1)]))),default:u((()=>{var e,t,l,n,i,a,o,r,c,u,d,y,h,f,v,m,g,b,k,I,w,q,C,x,D,S,N,_,T,U,V,P,R,M,E,L,j,F,O,H,J,W,z,G,Q,X,K,Y,Z,ee,te,le,ne,ie,ae,oe,se,re;return[s("div",St,[s("p",null,[s("span",Nt,"气血: "+p(null==(t=null==(e=A.petInfo)?void 0:e.initial)?void 0:t.health),1),s("span",_t,[s("i",{class:$(B.calculateDifference(null==(n=null==(l=A.petInfo)?void 0:l.initial)?void 0:n.health,null==(a=null==(i=A.player.pet)?void 0:i.initial)?void 0:a.health).icon)},null,2)]),s("span",Tt,p(B.calculateDifference(null==(r=null==(o=A.petInfo)?void 0:o.initial)?void 0:r.health,null==(u=null==(c=A.player.pet)?void 0:c.initial)?void 0:u.health).num),1)]),s("p",null,[s("span",Ut,"攻击: "+p(null==(y=null==(d=A.petInfo)?void 0:d.initial)?void 0:y.attack),1),s("span",At,[s("i",{class:$(B.calculateDifference(null==(f=null==(h=A.petInfo)?void 0:h.initial)?void 0:f.attack,null==(m=null==(v=A.player.pet)?void 0:v.initial)?void 0:m.attack).icon)},null,2)]),s("span",Bt,p(B.calculateDifference(null==(b=null==(g=A.petInfo)?void 0:g.initial)?void 0:b.attack,null==(I=null==(k=A.player.pet)?void 0:k.initial)?void 0:I.attack).num),1)]),s("p",null,[s("span",Vt,"防御: "+p(null==(q=null==(w=A.petInfo)?void 0:w.initial)?void 0:q.defense),1),s("span",Pt,[s("i",{class:$(B.calculateDifference(null==(x=null==(C=A.petInfo)?void 0:C.initial)?void 0:x.defense,null==(S=null==(D=A.player.pet)?void 0:D.initial)?void 0:S.defense).icon)},null,2)]),s("span",Rt,p(B.calculateDifference(null==(_=null==(N=A.petInfo)?void 0:N.initial)?void 0:_.defense,null==(U=null==(T=A.player.pet)?void 0:T.initial)?void 0:U.defense).num),1)]),s("p",null,[s("span",Mt," 闪避率: "+p((null==(P=null==(V=A.petInfo)?void 0:V.initial)?void 0:P.dodge)>0?100*(null==(M=null==(R=A.petInfo)?void 0:R.initial)?void 0:M.dodge)>100?100:(100*(null==(L=null==(E=A.petInfo)?void 0:E.initial)?void 0:L.dodge)).toFixed(2):0)+"% ",1),s("span",Et,[s("i",{class:$(B.calculateDifference(null==(F=null==(j=A.petInfo)?void 0:j.initial)?void 0:F.dodge,null==(H=null==(O=A.player.pet)?void 0:O.initial)?void 0:H.dodge).icon)},null,2)]),s("span",Lt,p(B.calculateDifference(null==(W=null==(J=A.petInfo)?void 0:J.initial)?void 0:W.dodge,null==(G=null==(z=A.player.pet)?void 0:z.initial)?void 0:G.dodge).num),1)]),s("p",null,[s("span",jt," 暴击率: "+p((null==(X=null==(Q=A.petInfo)?void 0:Q.initial)?void 0:X.critical)>0?100*(null==(Y=null==(K=A.petInfo)?void 0:K.initial)?void 0:Y.critical)>100?100:(100*(null==(ee=null==(Z=A.petInfo)?void 0:Z.initial)?void 0:ee.critical)).toFixed(2):0)+"% ",1),s("span",Ft,[s("i",{class:$(B.calculateDifference(null==(le=null==(te=A.petInfo)?void 0:te.initial)?void 0:le.critical,null==(ie=null==(ne=A.player.pet)?void 0:ne.initial)?void 0:ie.critical).icon)},null,2)]),s("span",Ot,p(B.calculateDifference(null==(oe=null==(ae=A.petInfo)?void 0:ae.initial)?void 0:oe.critical,null==(re=null==(se=A.player.pet)?void 0:se.initial)?void 0:re.critical).num),1)])])]})),_:1})])),_:1},8,["modelValue"]),s("div",Ht,[c(hn,{plain:"",class:"dialog-footer-button",onClick:l[39]||(l[39]=e=>B.petLock(A.petInfo))},{default:u((()=>[r(" 灵宠"+p(A.petInfo.lock?"解锁":"锁定"),1)])),_:1}),c(hn,{plain:"",class:"dialog-footer-button",onClick:l[40]||(l[40]=e=>B.petClose(A.petInfo))},{default:u((()=>l[65]||(l[65]=[r(" 灵宠放生 ")]))),_:1}),c(hn,{type:"primary",class:"dialog-footer-button",onClick:l[41]||(l[41]=e=>B.petCarry(A.petInfo))},{default:u((()=>l[66]||(l[66]=[r(" 灵宠出战 ")]))),_:1})])]})),_:1},8,["title","modelValue"]),c(bn,{title:A.inventoryInfo.name,modelValue:A.inventoryShow,"onUpdate:modelValue":l[47]||(l[47]=e=>A.inventoryShow=e),center:"",width:"420px"},{default:u((()=>{var e,n,i,a,d,h,f,v,m,g,b,k,w,q,C,x,D,S,N,_,T,U,V,P,R,M,E,L,j,F,O,H,J,W,z,G,Q,X,K,Y,Z,ee;return[A.inventoryShow?(I(),o("div",Jt,[s("div",Wt,[s("p",null,[s("span",zt,"类型: "+p(t.$genre[A.inventoryInfo.type]),1),l[67]||(l[67]=s("span",{class:"icon"},null,-1)),l[68]||(l[68]=s("span",{class:"value"},null,-1))]),s("p",null,[s("span",Gt,"炼器: "+p(A.inventoryInfo.strengthen||0),1),s("span",Qt,[s("i",{class:$(B.calculateDifference(A.inventoryInfo.strengthen,null==(e=A.player.equipment[A.inventoryInfo.type])?void 0:e.strengthen).icon)},null,2)]),s("span",Xt,p(B.calculateDifference(A.inventoryInfo.strengthen,null==(n=A.player.equipment[A.inventoryInfo.type])?void 0:n.strengthen).num),1)]),s("p",null,[s("span",Kt,"境界: "+p(t.$levelNames(A.inventoryInfo.level)),1),s("span",Yt,[s("i",{class:$(B.calculateDifference(A.inventoryInfo.level,null==(i=A.player.equipment[A.inventoryInfo.type])?void 0:i.level).icon)},null,2)]),s("span",Zt,p(A.inventoryInfo.level>parseInt((null==(a=A.player.equipment[A.inventoryInfo.type])?void 0:a.level)||1)?t.$levelNames(A.inventoryInfo.level):t.$levelNames(null==(d=A.player.equipment[A.inventoryInfo.type])?void 0:d.level)),1)]),s("p",null,[s("span",el,"品质: "+p(t.$levels[A.inventoryInfo.quality]),1),s("span",tl,[s("i",{class:$(B.calculateDifference(A.levelsNum[A.inventoryInfo.quality],A.levelsNum[null==(h=A.player.equipment[A.inventoryInfo.type])?void 0:h.quality]).icon)},null,2)]),s("span",ll,p(B.calculateDifference(A.levelsNum[A.inventoryInfo.quality],A.levelsNum[null==(f=A.player.equipment[A.inventoryInfo.type])?void 0:f.quality]).num<0?t.$levels[null==(v=A.player.equipment[A.inventoryInfo.type])?void 0:v.quality]:t.$levels[A.inventoryInfo.quality]),1)]),s("p",null,[s("span",nl,"气血: "+p(null==(m=A.inventoryInfo)?void 0:m.health),1),s("span",il,[s("i",{class:$(B.calculateDifference(null==(g=A.inventoryInfo)?void 0:g.health,null==(b=A.player.equipment[A.inventoryInfo.type])?void 0:b.health).icon)},null,2)]),s("span",al,p(B.calculateDifference(null==(k=A.inventoryInfo)?void 0:k.health,null==(w=A.player.equipment[A.inventoryInfo.type])?void 0:w.health).num),1)]),s("p",null,[s("span",ol,"攻击: "+p(null==(q=A.inventoryInfo)?void 0:q.attack),1),s("span",sl,[s("i",{class:$(B.calculateDifference(null==(C=A.inventoryInfo)?void 0:C.attack,null==(x=A.player.equipment[A.inventoryInfo.type])?void 0:x.attack).icon)},null,2)]),s("span",rl,p(B.calculateDifference(null==(D=A.inventoryInfo)?void 0:D.attack,null==(S=A.player.equipment[A.inventoryInfo.type])?void 0:S.attack).num),1)]),s("p",null,[s("span",pl,"防御: "+p(null==(N=A.inventoryInfo)?void 0:N.defense),1),s("span",cl,[s("i",{class:$(B.calculateDifference(null==(_=A.inventoryInfo)?void 0:_.defense,null==(T=A.player.equipment[A.inventoryInfo.type])?void 0:T.defense).icon)},null,2)]),s("span",ul,p(B.calculateDifference(null==(U=A.inventoryInfo)?void 0:U.defense,null==(V=A.player.equipment[A.inventoryInfo.type])?void 0:V.defense).num),1)]),s("p",null,[s("span",dl,"闪避率: "+p((null==(P=A.inventoryInfo)?void 0:P.dodge)>0?100*(null==(R=A.inventoryInfo)?void 0:R.dodge)>100?100:(100*(null==(M=A.inventoryInfo)?void 0:M.dodge)).toFixed(2):0)+"%",1),s("span",yl,[s("i",{class:$(B.calculateDifference(null==(E=A.inventoryInfo)?void 0:E.dodge,null==(L=A.player.equipment[A.inventoryInfo.type])?void 0:L.dodge).icon)},null,2)]),s("span",hl,p(B.calculateDifference(null==(j=A.inventoryInfo)?void 0:j.dodge,null==(F=A.player.equipment[A.inventoryInfo.type])?void 0:F.dodge).num),1)]),s("p",null,[s("span",fl,"暴击率: "+p((null==(O=A.inventoryInfo)?void 0:O.critical)>0?100*(null==(H=A.inventoryInfo)?void 0:H.critical)>100?100:(100*(null==(J=A.inventoryInfo)?void 0:J.critical)).toFixed(2):0)+"%",1),s("span",vl,[s("i",{class:$(B.calculateDifference(null==(W=A.inventoryInfo)?void 0:W.critical,null==(z=A.player.equipment[A.inventoryInfo.type])?void 0:z.critical).icon)},null,2)]),s("span",ml,p(B.calculateDifference(null==(G=A.inventoryInfo)?void 0:G.critical,null==(Q=A.player.equipment[A.inventoryInfo.type])?void 0:Q.critical).num),1)]),s("p",null,[s("span",gl,"装备评分: "+p(null==(X=A.inventoryInfo)?void 0:X.score),1),s("span",bl,[s("i",{class:$(B.calculateDifference(null==(K=A.inventoryInfo)?void 0:K.score,null==(Y=A.player.equipment[A.inventoryInfo.type])?void 0:Y.score).icon)},null,2)]),s("span",kl,p(B.calculateDifference(null==(Z=A.inventoryInfo)?void 0:Z.score,null==(ee=A.player.equipment[A.inventoryInfo.type])?void 0:ee.score).num),1)])])])):y("",!0),c(gn,{modelValue:A.inventoryCollapse,"onUpdate:modelValue":l[43]||(l[43]=e=>A.inventoryCollapse=e),class:"collapse"},{default:u((()=>[c(mn,{name:"1"},{title:u((()=>l[69]||(l[69]=[s("div",{class:"custom-title"},"基础属性对比",-1)]))),default:u((()=>{var e,t,l,n,i,a,o,r,c,u,d,y,h,f,v,m,g,b,k,I,w,q,C,x,D,S,N,_,T,U,V,P,R,M,E,L,j,F,O,H,J,W,z,G,Q,X,K,Y,Z,ee,te,le,ne,ie,ae,oe,se,re;return[s("div",Il,[s("p",null,[s("span",$l,"气血: "+p(null==(t=null==(e=A.inventoryInfo)?void 0:e.initial)?void 0:t.health),1),s("span",wl,[s("i",{class:$(B.calculateDifference(null==(n=null==(l=A.inventoryInfo)?void 0:l.initial)?void 0:n.health,null==(a=null==(i=A.player.equipment[A.inventoryInfo.type])?void 0:i.initial)?void 0:a.health).icon)},null,2)]),s("span",ql,p(B.calculateDifference(null==(r=null==(o=A.inventoryInfo)?void 0:o.initial)?void 0:r.health,null==(u=null==(c=A.player.equipment[A.inventoryInfo.type])?void 0:c.initial)?void 0:u.health).num),1)]),s("p",null,[s("span",Cl,"攻击: "+p(null==(y=null==(d=A.inventoryInfo)?void 0:d.initial)?void 0:y.attack),1),s("span",xl,[s("i",{class:$(B.calculateDifference(null==(f=null==(h=A.inventoryInfo)?void 0:h.initial)?void 0:f.attack,null==(m=null==(v=A.player.equipment[A.inventoryInfo.type])?void 0:v.initial)?void 0:m.attack).icon)},null,2)]),s("span",Dl,p(B.calculateDifference(null==(b=null==(g=A.inventoryInfo)?void 0:g.initial)?void 0:b.attack,null==(I=null==(k=A.player.equipment[A.inventoryInfo.type])?void 0:k.initial)?void 0:I.attack).num),1)]),s("p",null,[s("span",Sl,"防御: "+p(null==(q=null==(w=A.inventoryInfo)?void 0:w.initial)?void 0:q.defense),1),s("span",Nl,[s("i",{class:$(B.calculateDifference(null==(x=null==(C=A.inventoryInfo)?void 0:C.initial)?void 0:x.defense,null==(S=null==(D=A.player.equipment[A.inventoryInfo.type])?void 0:D.initial)?void 0:S.defense).icon)},null,2)]),s("span",_l,p(B.calculateDifference(null==(_=null==(N=A.inventoryInfo)?void 0:N.initial)?void 0:_.defense,null==(U=null==(T=A.player.equipment[A.inventoryInfo.type])?void 0:T.initial)?void 0:U.defense).num),1)]),s("p",null,[s("span",Tl," 闪避率: "+p((null==(P=null==(V=A.inventoryInfo)?void 0:V.initial)?void 0:P.dodge)>0?100*(null==(M=null==(R=A.inventoryInfo)?void 0:R.initial)?void 0:M.dodge)>100?100:(100*(null==(L=null==(E=A.inventoryInfo)?void 0:E.initial)?void 0:L.dodge)).toFixed(2):0)+"% ",1),s("span",Ul,[s("i",{class:$(B.calculateDifference(null==(F=null==(j=A.inventoryInfo)?void 0:j.initial)?void 0:F.dodge,null==(H=null==(O=A.player.equipment[A.inventoryInfo.type])?void 0:O.initial)?void 0:H.dodge).icon)},null,2)]),s("span",Al,p(B.calculateDifference(null==(W=null==(J=A.inventoryInfo)?void 0:J.initial)?void 0:W.dodge,null==(G=null==(z=A.player.equipment[A.inventoryInfo.type])?void 0:z.initial)?void 0:G.dodge).num),1)]),s("p",null,[s("span",Bl," 暴击率: "+p((null==(X=null==(Q=A.inventoryInfo)?void 0:Q.initial)?void 0:X.critical)>0?100*(null==(Y=null==(K=A.inventoryInfo)?void 0:K.initial)?void 0:Y.critical)>100?100:(100*(null==(ee=null==(Z=A.inventoryInfo)?void 0:Z.initial)?void 0:ee.critical)).toFixed(2):0)+"% ",1),s("span",Vl,[s("i",{class:$(B.calculateDifference(null==(le=null==(te=A.inventoryInfo)?void 0:te.initial)?void 0:le.critical,null==(ie=null==(ne=A.player.equipment[A.inventoryInfo.type])?void 0:ne.initial)?void 0:ie.critical).icon)},null,2)]),s("span",Pl,p(B.calculateDifference(null==(oe=null==(ae=A.inventoryInfo)?void 0:ae.initial)?void 0:oe.critical,null==(re=null==(se=A.player.equipment[A.inventoryInfo.type])?void 0:se.initial)?void 0:re.critical).num),1)])])]})),_:1})])),_:1},8,["modelValue"]),s("div",Rl,[c(hn,{plain:"",class:"inventory-button",onClick:l[44]||(l[44]=e=>B.inventoryClose(A.inventoryInfo))},{default:u((()=>l[70]||(l[70]=[r(" 装备分解 ")]))),_:1}),c(hn,{plain:"",class:"inventory-button",onClick:l[45]||(l[45]=e=>B.inventoryLock(A.inventoryInfo.id))},{default:u((()=>[r(p(A.inventoryInfo.lock?"装备解锁":"装备锁定"),1)])),_:1}),c(hn,{type:"primary",class:"inventory-button",onClick:l[46]||(l[46]=e=>B.equipItem(A.inventoryInfo.id,A.inventoryInfo.type))},{default:u((()=>l[71]||(l[71]=[r(" 立即装备 ")]))),_:1})])]})),_:1},8,["title","modelValue"]),c(bn,{title:"批量处理",modelValue:A.sellingEquipmentShow,"onUpdate:modelValue":l[49]||(l[49]=e=>A.sellingEquipmentShow=e),width:"600px"},{default:u((()=>[c(kn,null,{default:u((()=>l[72]||(l[72]=[r("装备")]))),_:1}),c(In,{modelValue:A.player.sellingEquipmentData,"onUpdate:modelValue":l[48]||(l[48]=e=>A.player.sellingEquipmentData=e),onChange:B.sellingEquipmentDataChange},{default:u((()=>[(I(!0),o(h,null,f(A.AllEquipmenType,((e,l)=>(I(),d(vn,{value:e,key:l,label:t.$levels[e]},null,8,["value","label"])))),128))])),_:1},8,["modelValue","onChange"]),s("div",Ml,[c(hn,{class:"dialog-footer-button",onClick:B.sellingEquipment},{default:u((()=>l[73]||(l[73]=[r(" 分解装备 ")]))),_:1},8,["onClick"])]),c(kn,null,{default:u((()=>l[74]||(l[74]=[r("灵宠")]))),_:1}),s("div",El,[c(hn,{class:"dialog-footer-button",onClick:B.sellingPet},{default:u((()=>l[75]||(l[75]=[r(" 放生灵宠 ")]))),_:1},8,["onClick"])])])),_:1},8,["modelValue"]),c(bn,{title:"数据管理",modelValue:A.show,"onUpdate:modelValue":l[50]||(l[50]=e=>A.show=e),width:"600px"},{default:u((()=>[s("div",Ll,[c(hn,{type:"info",class:"dialog-footer-button",onClick:B.exportData},{default:u((()=>l[76]||(l[76]=[r(" 导出存档 ")]))),_:1},8,["onClick"]),c($n,{action:"#",class:"dialog-upload","http-request":B.importData,"show-file-list":!1,accept:"application/json"},{default:u((()=>[c(hn,{type:"warning",class:"dialog-footer-button"},{default:u((()=>l[77]||(l[77]=[r(" 导入存档 ")]))),_:1})])),_:1},8,["http-request"]),c(hn,{type:"danger",class:"dialog-footer-button",onClick:B.deleteData},{default:u((()=>l[78]||(l[78]=[r(" 删除存档 ")]))),_:1},8,["onClick"]),c(hn,{type:"primary",class:"dialog-footer-button",onClick:B.qq},{default:u((()=>l[79]||(l[79]=[r(" 官方群聊 ")]))),_:1},8,["onClick"])])])),_:1},8,["modelValue"])])}],["__scopeId","data-v-edc709d3"]]);export{jl as default};
